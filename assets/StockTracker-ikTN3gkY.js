import{r as g,j as t}from"./index-DrWj1tgA.js";import{T as C}from"./trending-up-CZ5q9nyq.js";import{D as k}from"./download-DZ1EfTSG.js";import{P}from"./plus-DPTEUXD6.js";import{T as w}from"./trash-2-DTZrw6Iv.js";function F(){const[o,u]=g.useState(()=>{const e=localStorage.getItem("stockTracker");return e?JSON.parse(e):[]}),[s,d]=g.useState({symbol:"",shares:"",avgCost:"",currentPrice:""});g.useEffect(()=>{localStorage.setItem("stockTracker",JSON.stringify(o))},[o]);const b=()=>{!s.symbol||!s.shares||!s.avgCost||!s.currentPrice||(u([...o,{id:Date.now().toString(),symbol:s.symbol.toUpperCase(),shares:parseFloat(s.shares),avgCost:parseFloat(s.avgCost),currentPrice:parseFloat(s.currentPrice)}]),d({symbol:"",shares:"",avgCost:"",currentPrice:""}))},f=(e,r)=>{u(o.map(a=>a.id===e?{...a,currentPrice:r}:a))},v=e=>u(o.filter(r=>r.id!==e)),x=e=>{const r=e.shares*e.avgCost,a=e.shares*e.currentPrice,i=a-r,c=r>0?i/r*100:0;return{costBasis:r,currentValue:a,gain:i,gainPercent:c}},n=o.reduce((e,r)=>{const{costBasis:a,currentValue:i,gain:c}=x(r);return{costBasis:e.costBasis+a,currentValue:e.currentValue+i,gain:e.gain+c}},{costBasis:0,currentValue:0,gain:0}),h=n.costBasis>0?n.gain/n.costBasis*100:0,l=e=>"$"+Math.abs(e).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),m=e=>(e>=0?"+":"")+e.toFixed(2)+"%",j=()=>{let e=`=== Stock Portfolio ===

`;o.forEach(c=>{const{currentValue:N,gain:p,gainPercent:y}=x(c);e+=`${c.symbol}: ${c.shares} shares @ ${l(c.avgCost)}
`,e+=`  Current: ${l(c.currentPrice)} | Value: ${l(N)}
`,e+=`  Gain/Loss: ${p>=0?"+":""}${l(p)} (${m(y)})

`}),e+=`=== Totals ===
`,e+=`Cost Basis: ${l(n.costBasis)}
`,e+=`Current Value: ${l(n.currentValue)}
`,e+=`Total Gain/Loss: ${n.gain>=0?"+":""}${l(n.gain)} (${m(h)})
`;const r=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download="stock-portfolio.txt",i.click(),URL.revokeObjectURL(a)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[t.jsx(C,{className:"w-6 h-6 text-green-500"}),"Stock Portfolio Tracker"]}),o.length>0&&t.jsxs("button",{onClick:j,className:"btn-secondary text-sm flex items-center gap-1",children:[t.jsx(k,{className:"w-4 h-4"})," Export"]})]}),o.length>0&&t.jsxs("div",{className:`rounded-xl p-6 text-white text-center mb-6 ${n.gain>=0?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-red-500 to-rose-600"}`,children:[t.jsx("div",{className:"text-sm opacity-80",children:"Portfolio Value"}),t.jsx("div",{className:"text-5xl font-bold",children:l(n.currentValue)}),t.jsxs("div",{className:"text-xl mt-1",children:[n.gain>=0?"+":"-",l(n.gain)," (",m(h),")"]}),t.jsxs("div",{className:"mt-4 text-sm opacity-80",children:["Cost Basis: ",l(n.costBasis)]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-xl mb-6",children:[t.jsx("h3",{className:"font-semibold mb-3",children:"Add Stock"}),t.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[t.jsx("input",{type:"text",placeholder:"Symbol",value:s.symbol,onChange:e=>d({...s,symbol:e.target.value}),className:"input-field"}),t.jsx("input",{type:"number",placeholder:"Shares",value:s.shares,onChange:e=>d({...s,shares:e.target.value}),className:"input-field"}),t.jsx("input",{type:"number",step:"0.01",placeholder:"Avg Cost",value:s.avgCost,onChange:e=>d({...s,avgCost:e.target.value}),className:"input-field"}),t.jsx("input",{type:"number",step:"0.01",placeholder:"Current $",value:s.currentPrice,onChange:e=>d({...s,currentPrice:e.target.value}),className:"input-field"}),t.jsx("button",{onClick:b,className:"btn-primary flex items-center justify-center",children:t.jsx(P,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"space-y-3",children:o.map(e=>{const{currentValue:r,gain:a,gainPercent:i}=x(e);return t.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-xl",children:e.symbol}),t.jsxs("div",{className:"text-sm text-slate-500",children:[e.shares," shares @ ",l(e.avgCost)]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xl font-bold",children:l(r)}),t.jsxs("div",{className:`text-sm font-medium ${a>=0?"text-green-600":"text-red-600"}`,children:[a>=0?"+":"-",l(a)," (",m(i),")"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Current Price:"}),t.jsx("input",{type:"number",step:"0.01",value:e.currentPrice,onChange:c=>f(e.id,parseFloat(c.target.value)||0),className:"input-field flex-1 text-sm p-1"}),t.jsx("button",{onClick:()=>v(e.id),className:"text-red-400 hover:text-red-500",children:t.jsx(w,{className:"w-5 h-5"})})]})]},e.id)})}),o.length===0&&t.jsx("div",{className:"text-center py-8 text-slate-500",children:"Add your stock holdings to track performance"})]}),t.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 text-sm text-yellow-800 dark:text-yellow-100",children:[t.jsx("strong",{children:"⚠️ Note:"})," Update prices manually. This is for tracking purposes only. For real-time data, use a brokerage or financial app."]})]})}export{F as default};
