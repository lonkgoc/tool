import{c as N,r as c,j as e}from"./index-DqXMfBpZ.js";import{P as g}from"./plus-DXsQ2qju.js";import{T as v}from"./trash-2-BVmSqRQv.js";import{B as f}from"./book-open-D6C4-QIy.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=N("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);function P(){const[l,m]=c.useState(()=>{const t=localStorage.getItem("bookSummaries");return t?JSON.parse(t):[]}),[b,x]=c.useState(!1),[s,i]=c.useState(null),[a,n]=c.useState({title:"",author:"",genre:"",status:"reading",rating:5,summary:"",keyPoints:""});c.useEffect(()=>{localStorage.setItem("bookSummaries",JSON.stringify(l))},[l]);const p=()=>{if(!a.title.trim()||!a.author.trim())return;const t=a.keyPoints.split(`
`).map(d=>d.trim()).filter(d=>d),r={id:Date.now().toString(),title:a.title,author:a.author,genre:a.genre,date:new Date().toISOString().split("T")[0],keyPoints:t,summary:a.summary,rating:a.rating,status:a.status};m([r,...l]),n({title:"",author:"",genre:"",status:"reading",rating:5,summary:"",keyPoints:""}),i(r),x(!1)},h=(t,r)=>{m(l.map(d=>d.id===t?{...d,...r}:d)),(s==null?void 0:s.id)===t&&i({...s,...r})},j=t=>{m(l.filter(r=>r.id!==t)),(s==null?void 0:s.id)===t&&i(null)},o={total:l.length,completed:l.filter(t=>t.status==="completed").length,reading:l.filter(t=>t.status==="reading").length,wantToRead:l.filter(t=>t.status==="want-to-read").length,avgRating:l.length>0?parseFloat((l.reduce((t,r)=>t+r.rating,0)/l.length).toFixed(1)):0},k=()=>{const t=JSON.stringify(l,null,2),r=new Blob([t],{type:"application/json"}),d=URL.createObjectURL(r),u=document.createElement("a");u.href=d,u.download=`book-summaries-${new Date().toISOString().split("T")[0]}.json`,u.click(),URL.revokeObjectURL(d)};return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-3",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900 dark:to-purple-900 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:o.total}),e.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Total Books"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:o.completed}),e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"Completed"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-yellow-600 dark:text-yellow-400",children:o.reading}),e.jsx("div",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Reading"})]}),o.avgRating>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-bold text-amber-600 dark:text-amber-400",children:["â­ ",o.avgRating]}),e.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Avg Rating"})]})]}),e.jsxs("button",{onClick:()=>{x(!0),i(null)},className:"btn-primary w-full",children:[e.jsx(g,{className:"w-4 h-4"})," New Book"]}),e.jsxs("button",{onClick:k,disabled:l.length===0,className:"w-full px-4 py-2 rounded-lg font-medium bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-slate-100 hover:bg-slate-200 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"})," Export"]}),e.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg max-h-96 overflow-y-auto",children:l.length===0?e.jsx("div",{className:"p-4 text-center text-slate-500 dark:text-slate-400 text-sm",children:"No books yet"}):e.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:l.map(t=>e.jsxs("button",{onClick:()=>i(t),className:`w-full text-left p-3 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors ${(s==null?void 0:s.id)===t.id?"bg-blue-100 dark:bg-blue-900":""}`,children:[e.jsx("p",{className:"font-medium text-sm text-slate-900 dark:text-slate-100 line-clamp-1",children:t.title}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t.author}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1",children:t.status==="completed"?"âœ“ Completed":t.status==="reading"?"ðŸ“– Reading":"ðŸ“‹ Want to Read"})]},t.id))})})]}),e.jsx("div",{className:"lg:col-span-3",children:b?e.jsxs("div",{className:"bg-white dark:bg-slate-900 border-2 border-blue-200 dark:border-blue-700 rounded-lg p-6 space-y-4",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Add New Book"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:a.title,onChange:t=>n({...a,title:t.target.value}),placeholder:"Book title",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Author"}),e.jsx("input",{type:"text",value:a.author,onChange:t=>n({...a,author:t.target.value}),placeholder:"Author name",className:"input-field"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Genre"}),e.jsx("input",{type:"text",value:a.genre,onChange:t=>n({...a,genre:t.target.value}),placeholder:"e.g., Fiction, Science",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),e.jsxs("select",{value:a.status,onChange:t=>n({...a,status:t.target.value}),className:"input-field",children:[e.jsx("option",{value:"want-to-read",children:"Want to Read"}),e.jsx("option",{value:"reading",children:"Reading"}),e.jsx("option",{value:"completed",children:"Completed"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Summary"}),e.jsx("textarea",{value:a.summary,onChange:t=>n({...a,summary:t.target.value}),placeholder:"Overall summary of the book...",className:"input-field resize-none h-28"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Key Points (one per line)"}),e.jsx("textarea",{value:a.keyPoints,onChange:t=>n({...a,keyPoints:t.target.value}),placeholder:`- Main idea 1
- Main idea 2
- Main idea 3`,className:"input-field resize-none h-20"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Rating: ",a.rating,"/10"]}),e.jsx("input",{type:"range",min:"0",max:"10",value:a.rating,onChange:t=>n({...a,rating:parseInt(t.target.value)}),className:"w-full"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:p,className:"btn-primary flex-1",children:"Save Book"}),e.jsx("button",{onClick:()=>x(!1),className:"btn-secondary flex-1",children:"Cancel"})]})]}):s?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:s.title}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["by ",s.author]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>x(!0),className:"btn-secondary text-sm",children:[e.jsx(g,{className:"w-4 h-4"})," New"]}),e.jsx("button",{onClick:()=>j(s.id),className:"text-red-500 hover:bg-red-50 dark:hover:bg-red-900 p-2 rounded",children:e.jsx(v,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Genre"}),e.jsx("p",{className:"text-lg font-bold text-blue-900 dark:text-blue-100",children:s.genre||"Not specified"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900 dark:to-yellow-800 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Rating"}),e.jsxs("p",{className:"text-lg font-bold text-yellow-900 dark:text-yellow-100",children:["â­ ",s.rating,"/10"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),e.jsxs("select",{value:s.status,onChange:t=>h(s.id,{status:t.target.value}),className:"input-field",children:[e.jsx("option",{value:"want-to-read",children:"Want to Read"}),e.jsx("option",{value:"reading",children:"Currently Reading"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Summary"}),e.jsx("textarea",{value:s.summary,onChange:t=>h(s.id,{summary:t.target.value}),placeholder:"Book summary...",className:"input-field resize-none h-24"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Key Points"}),s.keyPoints.length===0?e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No key points yet"}):e.jsx("ul",{className:"space-y-2",children:s.keyPoints.map((t,r)=>e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-blue-500 dark:text-blue-400 font-bold flex-shrink-0",children:"â€¢"}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:t})]},r))})]}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Added: ",new Date(s.date).toLocaleDateString()]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:[e.jsx(f,{className:"w-16 h-16 text-slate-300 dark:text-slate-700 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400 mb-2",children:"No Book Selected"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-500",children:"Create a new book summary or select one from the list to get started"})]})})]})}export{P as default};
