import{r as u,j as o}from"./index-Ckx5g3CE.js";import{P}from"./pause-D3u-dulZ.js";import{P as E}from"./play-BTI2RwOU.js";import{V as I}from"./volume-x-ChkdFGrp.js";import{V as W}from"./volume-2-C0vhuSbN.js";function H(){const[f,V]=u.useState(!1),[b,S]=u.useState("rain"),[w,C]=u.useState(.5),T=u.useRef(null),m=u.useRef([]),g=u.useRef(null),j={rain:{name:"Rain Sounds",icon:"ðŸŒ§ï¸",description:"Gentle rain for focus"},ocean:{name:"Ocean Waves",icon:"ðŸŒŠ",description:"Calming wave sounds"},forest:{name:"Forest Birds",icon:"ðŸŒ²",description:"Nature ambience"},cafe:{name:"CafÃ© Ambient",icon:"â˜•",description:"Coffee shop vibes"},whitenoise:{name:"White Noise",icon:"âšª",description:"Pure concentration"},bonfire:{name:"Fireplace",icon:"ðŸ”¥",description:"Cozy crackling fire"}},k=u.useCallback(()=>{m.current.forEach(e=>{var a,l;try{(a=e.oscillator)==null||a.stop(),(l=e.noise)==null||l.stop()}catch{}}),m.current=[],g.current&&(clearInterval(g.current),g.current=null)},[]),v=(e,a)=>{const l=e.sampleRate*2,n=e.createBuffer(1,l,e.sampleRate),r=n.getChannelData(0);if(a==="white")for(let t=0;t<l;t++)r[t]=Math.random()*2-1;else if(a==="brown"){let t=0;for(let i=0;i<l;i++){const s=Math.random()*2-1;r[i]=(t+.02*s)/1.02,t=r[i],r[i]*=3.5}}else{let t=0,i=0,s=0,c=0,d=0,p=0,R=0;for(let N=0;N<l;N++){const h=Math.random()*2-1;t=.99886*t+h*.0555179,i=.99332*i+h*.0750759,s=.969*s+h*.153852,c=.8665*c+h*.3104856,d=.55*d+h*.5329522,p=-.7616*p-h*.016898,r[N]=t+i+s+c+d+p+R+h*.5362,r[N]*=.11,R=h*.115926}}return n},x=u.useCallback((e,a)=>{const l=v(e,"brown"),n=e.createBufferSource();n.buffer=l,n.loop=!0;const r=e.createGain();r.gain.value=.3;const t=e.createBiquadFilter();t.type="lowpass",t.frequency.value=1e3,n.connect(t),t.connect(r),r.connect(a),n.start(),m.current.push({noise:n});const i=()=>{if(!f)return;const s=e.createOscillator(),c=e.createGain();s.frequency.value=3e3+Math.random()*2e3,s.type="sine",c.gain.setValueAtTime(.02*Math.random(),e.currentTime),c.gain.exponentialRampToValueAtTime(.001,e.currentTime+.05),s.connect(c),c.connect(a),s.start(),s.stop(e.currentTime+.05)};g.current=setInterval(i,50)},[f]),B=u.useCallback((e,a)=>{const l=v(e,"pink"),n=e.createBufferSource();n.buffer=l,n.loop=!0;const r=e.createGain(),t=e.createBiquadFilter();t.type="lowpass",t.frequency.value=500;const i=e.createOscillator(),s=e.createGain();i.frequency.value=.1,s.gain.value=.2,i.connect(s),s.connect(r.gain),r.gain.value=.3,n.connect(t),t.connect(r),r.connect(a),i.start(),n.start(),m.current.push({noise:n,oscillator:i})},[]),M=u.useCallback((e,a)=>{const l=v(e,"pink"),n=e.createBufferSource();n.buffer=l,n.loop=!0;const r=e.createGain();r.gain.value=.08;const t=e.createBiquadFilter();t.type="lowpass",t.frequency.value=800,n.connect(t),t.connect(r),r.connect(a),n.start(),m.current.push({noise:n});const i=()=>{const s=2e3+Math.random()*2e3;for(let c=0;c<3+Math.floor(Math.random()*3);c++)setTimeout(()=>{const d=e.createOscillator(),p=e.createGain();d.frequency.value=s+Math.random()*500,d.type="sine",p.gain.setValueAtTime(.03,e.currentTime),p.gain.exponentialRampToValueAtTime(.001,e.currentTime+.1),d.connect(p),p.connect(a),d.start(),d.stop(e.currentTime+.1)},c*80)};g.current=setInterval(i,2e3+Math.random()*3e3),i()},[]),q=u.useCallback((e,a)=>{const l=v(e,"brown"),n=e.createBufferSource();n.buffer=l,n.loop=!0;const r=e.createGain();r.gain.value=.15;const t=e.createBiquadFilter();t.type="bandpass",t.frequency.value=400,t.Q.value=.5,n.connect(t),t.connect(r),r.connect(a),n.start(),m.current.push({noise:n});const i=()=>{const s=e.createOscillator(),c=e.createGain();s.frequency.value=800+Math.random()*1500,s.type="sine",c.gain.setValueAtTime(.02,e.currentTime),c.gain.exponentialRampToValueAtTime(.001,e.currentTime+.15),s.connect(c),c.connect(a),s.start(),s.stop(e.currentTime+.15)};g.current=setInterval(i,3e3+Math.random()*5e3)},[]),G=u.useCallback((e,a)=>{const l=v(e,"white"),n=e.createBufferSource();n.buffer=l,n.loop=!0;const r=e.createGain();r.gain.value=.25,n.connect(r),r.connect(a),n.start(),m.current.push({noise:n})},[]),A=u.useCallback((e,a)=>{const l=v(e,"brown"),n=e.createBufferSource();n.buffer=l,n.loop=!0;const r=e.createGain();r.gain.value=.2;const t=e.createBiquadFilter();t.type="lowpass",t.frequency.value=600,n.connect(t),t.connect(r),r.connect(a),n.start(),m.current.push({noise:n});const i=()=>{for(let s=0;s<1+Math.floor(Math.random()*3);s++)setTimeout(()=>{const c=e.createOscillator(),d=e.createGain();c.frequency.value=100+Math.random()*300,c.type="square",d.gain.setValueAtTime(.04,e.currentTime),d.gain.exponentialRampToValueAtTime(.001,e.currentTime+.02),c.connect(d),d.connect(a),c.start(),c.stop(e.currentTime+.02)},s*30)};g.current=setInterval(i,200+Math.random()*400)},[]),y=u.useCallback(()=>{T.current||(T.current=new(window.AudioContext||window.webkitAudioContext));const e=T.current;e.state==="suspended"&&e.resume(),k();const a=e.createGain();switch(a.gain.value=w,a.connect(e.destination),b){case"rain":x(e,a);break;case"ocean":B(e,a);break;case"forest":M(e,a);break;case"cafe":q(e,a);break;case"whitenoise":G(e,a);break;case"bonfire":A(e,a);break}},[b,w,k,x,B,M,q,G,A]);u.useEffect(()=>(f?y():k(),()=>k()),[f,b,y,k]),u.useEffect(()=>{T.current&&f&&y()},[w,f,y]);const F=()=>V(!f),O=e=>{S(e),f&&y()};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-xl p-6 text-white shadow-lg",children:[o.jsx("div",{className:"text-5xl mb-3",children:j[b].icon}),o.jsx("h2",{className:"text-2xl font-bold mb-1",children:j[b].name}),o.jsx("p",{className:"text-white/70 mb-6",children:j[b].description}),o.jsx("div",{className:"flex items-center justify-center gap-4 mb-6",children:o.jsx("button",{onClick:F,className:"w-16 h-16 rounded-full bg-white text-indigo-600 flex items-center justify-center shadow-lg hover:scale-105 transition-transform",children:f?o.jsx(P,{className:"w-8 h-8"}):o.jsx(E,{className:"w-8 h-8 ml-1"})})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>C(e=>Math.max(0,e-.1)),className:"p-2 hover:bg-white/20 rounded-lg",children:o.jsx(I,{className:"w-5 h-5"})}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:w,onChange:e=>C(Number(e.target.value)),className:"flex-1 h-2 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full"}),o.jsx("button",{onClick:()=>C(e=>Math.min(1,e+.1)),className:"p-2 hover:bg-white/20 rounded-lg",children:o.jsx(W,{className:"w-5 h-5"})}),o.jsxs("span",{className:"text-sm w-12 text-right",children:[Math.round(w*100),"%"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Ambient Sounds"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(j).map(([e,a])=>o.jsxs("button",{onClick:()=>O(e),className:`p-4 rounded-xl font-medium transition-all ${b===e?"bg-indigo-500 text-white shadow-lg scale-105":"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[o.jsx("div",{className:"text-2xl mb-1",children:a.icon}),o.jsx("div",{className:"text-sm",children:a.name})]},e))})]}),o.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4 text-sm text-indigo-800 dark:text-indigo-100",children:[o.jsx("strong",{children:"ðŸ’¡ Tip:"})," Ambient sounds help mask distracting noises and improve focus. Try different sounds to find what works best for you!"]})]})}export{H as default};
