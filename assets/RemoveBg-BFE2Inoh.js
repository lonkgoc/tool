import{c as $,r as n,j as e}from"./index-Ckx5g3CE.js";import{U as q}from"./upload-BeZbD1lf.js";import{D as A}from"./download-CBMF7h4P.js";import{A as E}from"./alert-circle-CwdPxsKy.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=$("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);function Z(){const[i,y]=n.useState(null),[g,C]=n.useState(null),[d,x]=n.useState(null),[u,R]=n.useState(!1),[r,S]=n.useState(30),[M,B]=n.useState("#ffffff"),[h,D]=n.useState("auto"),p=n.useRef(null),I=n.useRef(null),F=s=>{var o;const a=(o=s.target.files)==null?void 0:o[0];a&&a.type.startsWith("image/")&&(y(a),C(URL.createObjectURL(a)),x(null))},T=()=>{if(!i||!g)return;R(!0);const s=new Image;s.onload=()=>{const a=I.current;if(!a)return;a.width=s.width,a.height=s.height;const o=a.getContext("2d");o.drawImage(s,0,0);const U=o.getImageData(0,0,a.width,a.height),t=U.data;if(h==="auto"){const c=[{r:t[0],g:t[1],b:t[2]},{r:t[(a.width-1)*4],g:t[(a.width-1)*4+1],b:t[(a.width-1)*4+2]},{r:t[(a.height-1)*a.width*4],g:t[(a.height-1)*a.width*4+1],b:t[(a.height-1)*a.width*4+2]},{r:t[t.length-4],g:t[t.length-3],b:t[t.length-2]}],b=c[0].r,f=c[0].g,j=c[0].b;for(let l=0;l<t.length;l+=4){const k=t[l],N=t[l+1],v=t[l+2],m=Math.sqrt((k-b)**2+(N-f)**2+(v-j)**2);if(m<r*4.4){const w=Math.min(255,Math.max(0,(m-r*2)*(255/(r*4.4-r*2))));t[l+3]=w}}}else{const c=M.replace("#",""),b=parseInt(c.substr(0,2),16),f=parseInt(c.substr(2,2),16),j=parseInt(c.substr(4,2),16);for(let l=0;l<t.length;l+=4){const k=t[l],N=t[l+1],v=t[l+2],m=Math.sqrt((k-b)**2+(N-f)**2+(v-j)**2);if(m<r*4.4){const w=Math.min(255,Math.max(0,(m-r*2)*(255/(r*4.4-r*2))));t[l+3]=w}}}o.putImageData(U,0,0),x(a.toDataURL("image/png")),R(!1)},s.src=g},O=()=>{if(d){const s=document.createElement("a");s.href=d,s.download=(i==null?void 0:i.name.replace(/\.[^/.]+$/,""))+"-nobg.png"||"image-nobg.png",s.click()}},W=()=>{y(null),C(null),x(null),p.current&&(p.current.value="")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-6 flex items-center gap-2",children:[e.jsx(L,{className:"w-6 h-6 text-purple-500"}),"Remove Background"]}),e.jsxs("label",{className:"cursor-pointer block mb-6",children:[e.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:F,className:"hidden"}),e.jsx("div",{className:"flex items-center justify-center p-8 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl hover:border-purple-500 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"w-12 h-12 mx-auto mb-4 text-slate-400"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Click to upload image"})]})})]}),i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:()=>D("auto"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium ${h==="auto"?"bg-purple-500 text-white":"bg-slate-100 dark:bg-slate-800"}`,children:"ðŸŽ¯ Auto Detect"}),e.jsx("button",{onClick:()=>D("color"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium ${h==="color"?"bg-purple-500 text-white":"bg-slate-100 dark:bg-slate-800"}`,children:"ðŸŽ¨ Pick Color"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Tolerance: ",r]}),e.jsx("input",{type:"range",min:"5",max:"100",value:r,onChange:s=>S(Number(s.target.value)),className:"w-full"})]}),h==="color"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Color"}),e.jsx("input",{type:"color",value:M,onChange:s=>B(s.target.value),className:"w-full h-10 rounded cursor-pointer"})]})]}),e.jsxs("button",{onClick:T,disabled:u,className:"btn-primary w-full mb-4 flex items-center justify-center gap-2",children:[e.jsx(L,{className:`w-5 h-5 ${u?"animate-spin":""}`}),u?"Processing...":"Remove Background"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[g&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Original"}),e.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded-xl",children:e.jsx("img",{src:g,alt:"Original",className:"max-h-48 mx-auto object-contain rounded"})})]}),d&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Result"}),e.jsx("div",{className:"p-2 rounded-xl checkerboard",children:e.jsx("img",{src:d,alt:"Result",className:"max-h-48 mx-auto object-contain rounded"})})]})]}),d&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:O,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:[e.jsx(A,{className:"w-5 h-5"})," Download PNG"]}),e.jsx("button",{onClick:W,className:"btn-secondary",children:"Clear"})]})]}),e.jsx("canvas",{ref:I,style:{display:"none"}})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(E,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"Note:"})," This is a simple color-based background remover. For complex images, professional tools like remove.bg work better. Works best with solid color backgrounds."]})]})}),e.jsx("style",{children:`
        .checkerboard {
          background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),
                            linear-gradient(-45deg, #ccc 25%, transparent 25%),
                            linear-gradient(45deg, transparent 75%, #ccc 75%),
                            linear-gradient(-45deg, transparent 75%, #ccc 75%);
          background-size: 20px 20px;
          background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }
      `})]})}export{Z as default};
