import{c as g,r as d,j as e}from"./index-Ckx5g3CE.js";import{U as M}from"./upload-BeZbD1lf.js";import{C as D}from"./calendar-CXhtiaFs.js";import{D as U}from"./download-CBMF7h4P.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=g("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"ychnub"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=g("FileType",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=g("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),C={pdf:{magic:[37,80,68,70],name:"PDF Document",category:"Document"},png:{magic:[137,80,78,71],name:"PNG Image",category:"Image"},jpg:{magic:[255,216,255],name:"JPEG Image",category:"Image"},gif:{magic:[71,73,70,56],name:"GIF Image",category:"Image"},webp:{magic:[82,73,70,70],name:"WebP Image",category:"Image"},zip:{magic:[80,75,3,4],name:"ZIP Archive",category:"Archive"},rar:{magic:[82,97,114,33],name:"RAR Archive",category:"Archive"},"7z":{magic:[55,122,188,175],name:"7-Zip Archive",category:"Archive"},mp3:{magic:[73,68,51],name:"MP3 Audio",category:"Audio"},mp4:{magic:[0,0,0],name:"MP4 Video",category:"Video"},doc:{magic:[208,207,17,224],name:"MS Office Document",category:"Document"},exe:{magic:[77,90],name:"Windows Executable",category:"Executable"}};function P(){const[a,p]=d.useState(null),[h,y]=d.useState(!1),[f,u]=d.useState(""),m=d.useRef(null),b=t=>t<1024?t+" B":t<1024*1024?(t/1024).toFixed(2)+" KB":t<1024*1024*1024?(t/(1024*1024)).toFixed(2)+" MB":(t/(1024*1024*1024)).toFixed(2)+" GB",w=async t=>{const s=await t.slice(0,16).arrayBuffer(),n=new Uint8Array(s),r=Array.from(n.slice(0,16)).map(i=>i.toString(16).padStart(2,"0").toUpperCase()).join(" ");u(r);for(const[i,l]of Object.entries(C))if(l.magic.every((o,c)=>n[c]===o))return{type:l.name,category:l.category};if(t.type){const i=t.type.split("/")[0];return{type:t.type,category:i.charAt(0).toUpperCase()+i.slice(1)}}return{type:"Unknown",category:"Unknown"}},k=async t=>{var n,r;const s=(n=t.target.files)==null?void 0:n[0];if(s){y(!0);try{const{type:i,category:l}=await w(s),x=s.name.includes(".")&&((r=s.name.split(".").pop())==null?void 0:r.toUpperCase())||"N/A",o={"MIME Type":s.type||"Unknown","File Extension":x,"Detected Type":i};if(s.type.startsWith("image/")){const c=new Image,j=URL.createObjectURL(s);await new Promise(N=>{c.onload=()=>{o.Dimensions=`${c.width} Ã— ${c.height} px`,URL.revokeObjectURL(j),N()},c.onerror=()=>N(),c.src=j})}p({name:s.name,size:s.size,type:i,extension:x,category:l,lastModified:new Date(s.lastModified),details:o})}catch(i){console.error("Error detecting file type:",i)}finally{y(!1)}}},A=()=>{p(null),u(""),m.current&&(m.current.value="")},F=t=>({Image:"bg-green-500",Document:"bg-blue-500",Archive:"bg-yellow-500",Audio:"bg-purple-500",Video:"bg-red-500",Executable:"bg-orange-500"})[t]||"bg-slate-500",I=()=>{if(!a)return;let t=`=== File Information ===

`;t+=`Name: ${a.name}
`,t+=`Size: ${b(a.size)}
`,t+=`Type: ${a.type}
`,t+=`Category: ${a.category}
`,t+=`Modified: ${a.lastModified.toLocaleString()}
`,t+=`
Hex Signature: ${f}
`,t+=`
Details:
`;for(const[i,l]of Object.entries(a.details))t+=`  ${i}: ${l}
`;const s=new Blob([t],{type:"text/plain"}),n=URL.createObjectURL(s),r=document.createElement("a");r.href=n,r.download=`${a.name}-info.txt`,r.click(),URL.revokeObjectURL(n)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-6 flex items-center gap-2",children:[e.jsx(S,{className:"w-6 h-6 text-indigo-500"}),"File Type Detector"]}),e.jsxs("label",{className:"cursor-pointer block mb-6",children:[e.jsx("input",{ref:m,type:"file",onChange:k,className:"hidden"}),e.jsx("div",{className:"flex items-center justify-center p-8 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl hover:border-indigo-500 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx(M,{className:"w-12 h-12 mx-auto mb-4 text-slate-400"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Click to upload any file"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"We'll detect its type from the binary signature"})]})})]}),h&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full mx-auto"}),e.jsx("p",{className:"mt-2 text-slate-600",children:"Analyzing file..."})]}),a&&!h&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-xl ${F(a.category)} flex items-center justify-center`,children:e.jsx(v,{className:"w-8 h-8"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold truncate",children:a.name}),e.jsx("p",{className:"opacity-80",children:a.type})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm",children:a.category})})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-1",children:[e.jsx(z,{className:"w-4 h-4"})," Size"]}),e.jsx("div",{className:"font-bold text-lg",children:b(a.size)})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-1",children:[e.jsx(v,{className:"w-4 h-4"})," Extension"]}),e.jsxs("div",{className:"font-bold text-lg",children:[".",a.extension]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-1",children:[e.jsx(D,{className:"w-4 h-4"})," Modified"]}),e.jsx("div",{className:"font-bold text-sm",children:a.lastModified.toLocaleDateString()})]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-xl",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Binary Signature (First 16 bytes)"}),e.jsx("code",{className:"block bg-slate-900 text-green-400 p-3 rounded font-mono text-sm overflow-x-auto",children:f})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"font-medium",children:"All Details"}),e.jsxs("button",{onClick:I,className:"btn-secondary text-sm flex items-center gap-1",children:[e.jsx(U,{className:"w-4 h-4"})," Export"]})]}),e.jsx("div",{className:"space-y-2",children:Object.entries(a.details).map(([t,s])=>e.jsxs("div",{className:"flex justify-between p-2 bg-white dark:bg-slate-900 rounded",children:[e.jsx("span",{className:"text-slate-500",children:t}),e.jsx("span",{className:"font-medium",children:s})]},t))})]}),e.jsx("button",{onClick:A,className:"btn-secondary w-full",children:"Analyze Another File"})]})]}),e.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4",children:[e.jsx("p",{className:"font-medium mb-2",children:"How it works:"}),e.jsx("p",{children:'Files have "magic bytes" at the beginning that identify their type, regardless of file extension. This tool reads those bytes to detect the actual file format.'})]})]})}export{P as default};
