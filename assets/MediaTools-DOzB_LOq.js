import{c as A,r as l,j as e,L as D}from"./index-DqXMfBpZ.js";import{I as E}from"./image-DYM7cvMq.js";import{I as U}from"./info-C0qj7bR9.js";import{A as V}from"./alert-circle-B7aAIleE.js";import{D as P}from"./download-DfWGAFzS.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=A("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);function $({initialOp:b,hideTabs:N=!1}={}){const[i,v]=l.useState(b||"gif-maker"),[a,k]=l.useState([]),[u,p]=l.useState(!1),[j,r]=l.useState(""),[n,c]=l.useState(null),[w,y]=l.useState(200),[d,F]=l.useState(400),I=s=>{s.target.files&&(k(Array.from(s.target.files)),c(null),r(""))},R=async()=>{if(a.length<2){r("Please select at least 2 images");return}p(!0),r(""),c(null);try{const s=[];for(const h of a){const m=document.createElement("img");m.src=URL.createObjectURL(h),await new Promise((S,L)=>{m.onload=S,m.onerror=L}),s.push(m)}const t=s[0],x=t.height/t.width,f=Math.round(d*x),o=document.createElement("canvas");o.width=d,o.height=f,o.getContext("2d").drawImage(s[0],0,0,d,f);const q=o.toDataURL("image/png");c(q),r("Note: True animated GIF creation requires a server with ImageMagick or a specialized library like gif.js. This preview shows the first frame. For now, images are prepared for GIF conversion."),s.forEach(h=>URL.revokeObjectURL(h.src))}catch(s){r(s.message||"Error processing images")}finally{p(!1)}},C=()=>{if(!n)return;const s=document.createElement("a");s.href=n,s.download="media-result.png",s.click()},G=[{id:"gif-maker",label:"Images to GIF",icon:E,desc:"Create animated GIF from images"},{id:"video-to-gif",label:"Video to GIF",icon:g,desc:"Coming soon"},{id:"info",label:"Info",icon:U,desc:"About media tools"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(g,{className:"w-6 h-6 text-purple-500"}),"Media Tools"]}),!N&&e.jsx("div",{className:"flex gap-2 flex-wrap mb-6",children:G.map(({id:s,label:t,icon:x})=>e.jsxs("button",{onClick:()=>{v(s),c(null),r("")},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${i===s?"bg-purple-500 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200"}`,children:[e.jsx(x,{className:"w-4 h-4"}),t]},s))}),j&&e.jsxs("div",{className:"flex items-start gap-2 text-amber-600 bg-amber-50 dark:bg-amber-900/20 p-4 rounded-xl mb-4",children:[e.jsx(V,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:j})]}),i==="gif-maker"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Select multiple images to create an animated GIF. Images will be displayed in sequence."}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:I,className:"input-field"}),a.length>0&&e.jsxs("div",{className:"text-sm text-slate-600",children:["Selected ",a.length," images: ",a.map(s=>s.name).join(", ")]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Frame Delay (ms)"}),e.jsx("input",{type:"number",value:w,onChange:s=>y(Number(s.target.value)),className:"input-field",min:"50",max:"2000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Width (px)"}),e.jsx("input",{type:"number",value:d,onChange:s=>F(Number(s.target.value)),className:"input-field",min:"100",max:"1920"})]})]}),e.jsx("button",{onClick:R,disabled:u||a.length<2,className:"btn-primary w-full disabled:opacity-50",children:u?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-5 h-5 animate-spin inline mr-2"}),"Processing..."]}):"Create GIF Preview"})]}),i==="video-to-gif"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800 rounded-xl text-center",children:[e.jsx(g,{className:"w-12 h-12 mx-auto mb-4 text-slate-400"}),e.jsx("h3",{className:"font-medium mb-2",children:"Video to GIF Conversion"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Video to GIF conversion requires FFmpeg which runs on a server. This feature requires the backend API to be running."}),e.jsx("div",{className:"text-xs text-slate-500 bg-slate-100 dark:bg-slate-700 p-3 rounded-lg",children:e.jsx("code",{children:"Server required at: http://localhost:4010"})})]})}),i==="info"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800 rounded-xl",children:[e.jsx("h3",{className:"font-medium mb-3",children:"About Media Tools"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Some media operations require server-side processing with specialized tools:"}),e.jsxs("ul",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Images to GIF:"})," Basic support in browser with preview"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-500",children:"⚠"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Video to GIF:"})," Requires FFmpeg on server"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-500",children:"⚠"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Audio conversion:"})," Requires FFmpeg on server"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-500",children:"⚠"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Video conversion:"})," Requires FFmpeg on server"]})]})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Running the Backend"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"To enable all media features, start the backend server:"}),e.jsx("code",{className:"block p-2 bg-white dark:bg-slate-800 rounded text-xs",children:"cd server && npm install && npm run dev"})]})]})]}),n&&e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Preview"}),e.jsx("div",{className:"flex justify-center bg-slate-100 dark:bg-slate-800 rounded-xl p-4 mb-4",children:e.jsx("img",{src:n,alt:"Result",className:"max-w-full max-h-96 object-contain rounded"})}),e.jsxs("button",{onClick:C,className:"btn-primary w-full flex items-center justify-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),"Download Preview"]})]}),a.length>0&&i==="gif-maker"&&e.jsxs("div",{className:"card",children:[e.jsxs("h3",{className:"font-medium mb-3",children:["Selected Images (",a.length,")"]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:[a.slice(0,12).map((s,t)=>e.jsx("div",{className:"aspect-square bg-slate-100 dark:bg-slate-800 rounded overflow-hidden",children:e.jsx("img",{src:URL.createObjectURL(s),alt:`Frame ${t+1}`,className:"w-full h-full object-cover"})},t)),a.length>12&&e.jsxs("div",{className:"aspect-square bg-slate-200 dark:bg-slate-700 rounded flex items-center justify-center text-sm text-slate-500",children:["+",a.length-12," more"]})]})]})]})}export{$ as M};
