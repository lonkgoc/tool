import{r as c,j as e}from"./index-DrWj1tgA.js";import{R as A}from"./refresh-cw-BpZzxbpF.js";import{D}from"./download-DZ1EfTSG.js";import{C as F}from"./check-C28q0Ni9.js";import{C as I}from"./copy-BeFJNMJT.js";const p={0:"11011001100",1:"11001101100",2:"11001100110",3:"10010011000",4:"10010001100",5:"10001001100",6:"10011001000",7:"10011000100",8:"10001100100",9:"11001001000",10:"11001000100",11:"11000100100",12:"10110011100",13:"10011011100",14:"10011001110",15:"10111001100",16:"10011101100",17:"10011100110",18:"11001110010",19:"11001011100",20:"11001001110",21:"11011100100",22:"11001110100",23:"11101101110",24:"11101001100",25:"11100101100",26:"11100100110",27:"11101100100",28:"11100110100",29:"11100110010",30:"11011011000",31:"11011000110",32:"11000110110",33:"10100011000",34:"10001011000",35:"10001000110",36:"10110001000",37:"10001101000",38:"10001100010",39:"11010001000",40:"11000101000",41:"11000100010",42:"10110111000",43:"10110001110",44:"10001101110",45:"10111011000",46:"10111000110",47:"10001110110",48:"11101110110",49:"11010001110",50:"11000101110",51:"11011101000",52:"11011100010",53:"11011101110",54:"11101011000",55:"11101000110",56:"11100010110",57:"11101101000",58:"11101100010",59:"11100011010",60:"11101111010",61:"11001000010",62:"11110001010",63:"10100110000",64:"10100001100",65:"10010110000",66:"10010000110",67:"10000101100",68:"10000100110",69:"10110010000",70:"10110000100",71:"10011010000",72:"10011000010",73:"10000110100",74:"10000110010",75:"11000010010",76:"11001010000",77:"11110111010",78:"11000010100",79:"10001111010",80:"10100111100",81:"10010111100",82:"10010011110",83:"10111100100",84:"10011110100",85:"10011110010",86:"11110100100",87:"11110010100",88:"11110010010",89:"11011011110",90:"11011110110",91:"11110110110",92:"10101111000",93:"10100011110",94:"10001011110",95:"10111101000",96:"10111100010",97:"11110101000",98:"11110100010",99:"10111011110",100:"10111101110",101:"11101011110",102:"11110101110",103:"11010000100",104:"11010010000",105:"11010011100",106:"1100011101011"},w=104,H=106;function G(r){let n=p[w],s=w;for(let d=0;d<r.length;d++){const a=r.charCodeAt(d)-32;a<0||a>95||(n+=p[a],s+=a*(d+1))}const m=s%103;return n+=p[m],n+=p[H],n}function L(){const[r,n]=c.useState(""),[s,m]=c.useState(null),[d,x]=c.useState(!1),[a,y]=c.useState(80),[o,v]=c.useState(2),[h,k]=c.useState(!0),u=c.useRef(null),f=()=>{if(!r.trim()){alert("Please enter text to generate barcode");return}const t=G(r),i=u.current;if(!i)return;const l=i.getContext("2d");if(!l)return;const j=10*o,E=t.length*o,R=h?20:0,b=E+j*2,N=a+R+20;i.width=b,i.height=N,l.fillStyle="#FFFFFF",l.fillRect(0,0,b,N),l.fillStyle="#000000";let C=j;for(let g=0;g<t.length;g++)t[g]==="1"&&l.fillRect(C,10,o,a),C+=o;h&&(l.fillStyle="#000000",l.font="14px monospace",l.textAlign="center",l.fillText(r,b/2,a+25)),m(i.toDataURL("image/png"))},S=()=>{if(s){const t=document.createElement("a");t.href=s,t.download=`barcode-${r.replace(/[^a-zA-Z0-9]/g,"_")}.png`,t.click()}},B=async()=>{if(u.current)try{const t=await new Promise(i=>{u.current.toBlob(l=>i(l),"image/png")});await navigator.clipboard.write([new ClipboardItem({"image/png":t})]),x(!0),setTimeout(()=>x(!1),2e3)}catch{s&&(navigator.clipboard.writeText(s),x(!0),setTimeout(()=>x(!1),2e3))}},T=()=>{n(""),m(null)};return c.useEffect(()=>{r.trim()&&s&&f()},[a,o,h]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Barcode Generator (Code 128)"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Enter text or number"}),e.jsx("input",{type:"text",value:r,onChange:t=>n(t.target.value),onKeyDown:t=>t.key==="Enter"&&f(),placeholder:"Enter text to generate barcode (ASCII characters)",className:"w-full input-field",maxLength:50}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Supports ASCII characters (letters, numbers, symbols)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Bar Height: ",a,"px"]}),e.jsx("input",{type:"range",min:"40",max:"150",value:a,onChange:t=>y(Number(t.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Bar Width: ",o,"px"]}),e.jsx("input",{type:"range",min:"1",max:"4",value:o,onChange:t=>v(Number(t.target.value)),className:"w-full"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"showText",checked:h,onChange:t=>k(t.target.checked),className:"rounded"}),e.jsx("label",{htmlFor:"showText",className:"text-sm text-slate-700 dark:text-slate-300",children:"Show text below barcode"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:f,className:"btn-primary flex-1",children:"Generate Barcode"}),s&&e.jsx("button",{onClick:T,className:"btn-secondary",children:e.jsx(A,{className:"w-5 h-5"})})]})]})]}),e.jsx("canvas",{ref:u,className:"hidden"}),s&&e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Generated Barcode"}),e.jsx("div",{className:"bg-white p-6 rounded-lg mb-4 flex justify-center",children:e.jsx("img",{src:s,alt:"Barcode",className:"max-w-full"})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:S,className:"btn-primary flex-1 flex items-center justify-center space-x-2",children:[e.jsx(D,{className:"w-5 h-5"}),e.jsx("span",{children:"Download PNG"})]}),e.jsx("button",{onClick:B,className:"btn-secondary flex items-center space-x-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-5 h-5"}),e.jsx("span",{children:"Copy"})]})})]})]}),e.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4",children:[e.jsx("p",{className:"font-medium mb-2",children:"About Code 128:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"High-density barcode used in logistics and retail"}),e.jsx("li",{children:"Supports all ASCII characters (letters, numbers, symbols)"}),e.jsx("li",{children:"Includes automatic checksum for error detection"}),e.jsx("li",{children:"Scannable by most barcode readers"})]})]})]})}export{L as default};
