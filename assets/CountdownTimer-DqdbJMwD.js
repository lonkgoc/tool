import{r as s,j as e}from"./index-DqXMfBpZ.js";import{P as V}from"./play-vEvvyHBn.js";import{P as L}from"./pause-DSWOYbfx.js";import{S as C}from"./square-DiqB8Wfr.js";import{V as U}from"./volume-2-C2uvjB3a.js";import{V as z}from"./volume-x-BsAJTLk0.js";import{B as G}from"./bell-CbW7GWDo.js";function Z(){const[b,h]=s.useState(0),[j,g]=s.useState(0),[N,y]=s.useState(0),[n,k]=s.useState(0),[r,o]=s.useState(!1),[l,m]=s.useState(!1),[i,A]=s.useState(!0),[M,c]=s.useState(null),u=s.useRef(null),v=s.useRef(null),w=s.useCallback(()=>{if(i)try{v.current||(v.current=new(window.AudioContext||window.webkitAudioContext));const t=v.current,x=(a,f,$)=>{const d=t.createOscillator(),p=t.createGain();d.frequency.setValueAtTime(a,t.currentTime),d.type="sine",p.gain.setValueAtTime(.3,t.currentTime+f),p.gain.exponentialRampToValueAtTime(.01,t.currentTime+f+$),d.connect(p),p.connect(t.destination),d.start(t.currentTime+f),d.stop(t.currentTime+f+$)};for(let a=0;a<3;a++)x(880,a*.4,.25),x(660,a*.4+.2,.15)}catch{console.log("Audio not supported")}},[i]);s.useEffect(()=>(r&&n>0?u.current=window.setInterval(()=>{k(t=>t<=1?(o(!1),m(!0),w(),c("â° Time's up!"),setTimeout(()=>c(null),5e3),0):t-1)},1e3):u.current&&clearInterval(u.current),()=>{u.current&&clearInterval(u.current)}),[r,w]);const E=()=>{const t=b*3600+j*60+N;t>0?(k(t),o(!0),m(!1)):(c("Please set a valid time"),setTimeout(()=>c(null),3e3))},q=()=>{n>0&&(o(!0),m(!1))},I=()=>{o(!1)},S=()=>{o(!1),k(0),h(0),g(0),y(0),m(!1)},F=()=>{w(),c("ðŸ”” Sound test!"),setTimeout(()=>c(null),2e3)},O=t=>{h(0),g(t),y(0)},B=()=>{const t=Math.floor(n/3600),x=Math.floor(n%3600/60),a=n%60;return`${String(t).padStart(2,"0")}:${String(x).padStart(2,"0")}:${String(a).padStart(2,"0")}`},T=b*3600+j*60+N,H=T>0&&n>0?(T-n)/T*100:0,R=n===0&&!r&&!l,P=n>0&&!r&&!l;return e.jsxs("div",{className:"space-y-6",children:[M&&e.jsx("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg text-white animate-fade-in ${l?"bg-green-500":"bg-blue-500"}`,children:M}),R&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hours"}),e.jsx("input",{type:"number",min:"0",max:"23",value:b,onChange:t=>h(Math.max(0,Math.min(23,Number(t.target.value)))),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Minutes"}),e.jsx("input",{type:"number",min:"0",max:"59",value:j,onChange:t=>g(Math.max(0,Math.min(59,Number(t.target.value)))),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seconds"}),e.jsx("input",{type:"number",min:"0",max:"59",value:N,onChange:t=>y(Math.max(0,Math.min(59,Number(t.target.value)))),className:"input-field"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400 self-center",children:"Quick:"}),[1,5,10,15,30,45,60].map(t=>e.jsxs("button",{onClick:()=>O(t),className:"px-3 py-1 text-sm bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:[t,"m"]},t))]})]}),e.jsxs("div",{className:`card text-center relative overflow-hidden ${l?"bg-green-50 dark:bg-green-900/20 border-2 border-green-500":"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20"}`,children:[(r||P)&&e.jsx("div",{className:"absolute top-0 left-0 h-1 bg-blue-500 transition-all duration-1000",style:{width:`${H}%`}}),e.jsx("div",{className:`text-6xl font-bold mb-4 font-mono transition-colors ${l?"text-green-600 dark:text-green-400 animate-pulse":"text-blue-600 dark:text-blue-400"}`,children:n>0||r?B():"00:00:00"}),l&&e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-4 animate-bounce",children:"â° Time's Up!"}),e.jsxs("div",{className:"flex gap-3 justify-center flex-wrap",children:[R&&e.jsxs("button",{onClick:E,className:"btn-primary w-full flex items-center justify-center space-x-2",children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{children:"Start"})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:I,className:"btn-secondary flex-1 flex items-center justify-center space-x-2",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{children:"Pause"})]}),e.jsxs("button",{onClick:S,className:"btn-secondary flex-1 flex items-center justify-center space-x-2",children:[e.jsx(C,{className:"w-5 h-5"}),e.jsx("span",{children:"Reset"})]})]}),P&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:q,className:"btn-primary flex-1 flex items-center justify-center space-x-2",children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{children:"Resume"})]}),e.jsxs("button",{onClick:S,className:"btn-secondary flex-1 flex items-center justify-center space-x-2",children:[e.jsx(C,{className:"w-5 h-5"}),e.jsx("span",{children:"Reset"})]})]}),l&&e.jsxs("button",{onClick:S,className:"btn-primary w-full flex items-center justify-center space-x-2",children:[e.jsx(C,{className:"w-5 h-5"}),e.jsx("span",{children:"New Timer"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsxs("button",{onClick:()=>A(!i),className:`btn-secondary flex items-center space-x-2 ${i?"":"opacity-50"}`,children:[i?e.jsx(U,{className:"w-5 h-5"}):e.jsx(z,{className:"w-5 h-5"}),e.jsx("span",{children:i?"Sound On":"Sound Off"})]}),e.jsxs("button",{onClick:F,className:"btn-secondary flex items-center space-x-2",children:[e.jsx(G,{className:"w-5 h-5"}),e.jsx("span",{children:"Test"})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm text-blue-800 dark:text-blue-100",children:[e.jsx("strong",{children:"ðŸ’¡ Tip:"})," Use the quick preset buttons to set common timer durations quickly. You can pause and resume the countdown at any time."]})]})}export{Z as default};
