const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CGxw6deM.js","assets/index-DrWj1tgA.js","assets/index-nzkunwU1.css"])))=>i.map(i=>d[i]);
import{c as H,r as w,j as e,L as v,X as se,_ as le}from"./index-DrWj1tgA.js";import{J as _}from"./jszip.min-Bi_8JJEF.js";import{F as K}from"./file-text-h9bHkSTw.js";import{A as re}from"./alert-circle-CB5MyUBg.js";import{D as ne}from"./download-DZ1EfTSG.js";import{C as ie}from"./check-C28q0Ni9.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=H("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=H("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=H("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),me=b=>[".txt",".md",".csv",".json",".xml",".html",".css",".js",".ts",".py",".java"].some(g=>b.toLowerCase().endsWith(g));async function he(b){const A=[],g=new DataView(b);let u=0;for(;u+512<=b.byteLength;){if(g.getUint32(u,!0)===0&&g.getUint32(u+4,!0)===0){u+=512;continue}const l=new Uint8Array(b,u,100);let j=0;for(;j<100&&l[j]!==0;)j++;const c=new TextDecoder().decode(l.subarray(0,j)),T=new Uint8Array(b,u+124,12);let x=new TextDecoder().decode(T).trim();x=x.replace(/\0/g,"");const m=parseInt(x,8),S=g.getUint8(u+156),n=S===0||S===48;if(u+=512,isNaN(m))break;if(n&&m>=0){const C=new Uint8Array(b,u,m);A.push({name:c,blob:new Blob([C])})}u+=Math.ceil(m/512)*512}return A}function we({initialOp:b,hideTabs:A=!1}={}){const[g,u]=w.useState(b||"zip"),[l,j]=w.useState([]),[c,T]=w.useState(null),[x,m]=w.useState(!1),[S,n]=w.useState(""),[C,U]=w.useState(""),[o,h]=w.useState(null),[z,V]=w.useState(1048576),[R,P]=w.useState([]),G=async()=>{if(l.length===0){n("Please select files to zip");return}m(!0),n(""),h(null);try{const t=new _;for(const d of l){const p=await d.arrayBuffer();t.file(d.name,p)}const a=await t.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}}),s=URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="archive.zip",r.click(),URL.revokeObjectURL(s),h({type:"zip",message:`Created ZIP with ${l.length} files`})}catch(t){n(t.message||"Error creating ZIP")}finally{m(!1)}},J=async()=>{if(!c){n("Please select an archive file");return}m(!0),n(""),U(""),h(null),P([]);try{const t=await c.arrayBuffer();let a=[],s="archive";if(c.name.toLowerCase().endsWith(".tar")||c.type==="application/x-tar")a=await he(t),s="Tar";else{if(c.name.toLowerCase().endsWith(".rar")||c.name.toLowerCase().endsWith(".7z"))throw new Error("RAR and 7z extraction is not currently supported in the browser. Please use a ZIP or TAR file tool.");try{const d=await new _().loadAsync(t);for(const[p,y]of Object.entries(d.files))if(!y.dir){const N=await y.async("blob");a.push({name:p,blob:N})}s="Zip"}catch{throw new Error("Could not read archive. Ensure it is a valid ZIP file.")}}P(a),h({type:"extract",message:`Extracted ${a.length} files from ${s} archive`})}catch(t){n(t.message||"Error extracting archive.")}finally{m(!1)}},$=t=>{const a=URL.createObjectURL(t.blob),s=document.createElement("a");s.href=a,s.download=t.name.split("/").pop()||t.name,s.click(),URL.revokeObjectURL(a)},X=async()=>{for(const t of R)$(t),await new Promise(a=>setTimeout(a,100))},Y=async()=>{if(!c){n("Please select a file");return}m(!0),n(""),h(null);try{const t=await c.arrayBuffer(),a=await crypto.subtle.digest("SHA-256",t),s=await crypto.subtle.digest("SHA-1",t),r=d=>Array.from(new Uint8Array(d)).map(p=>p.toString(16).padStart(2,"0")).join("");h({type:"hash",data:{filename:c.name,size:c.size,"SHA-256":r(a),"SHA-1":r(s)}})}catch(t){n(t.message||"Error generating hash")}finally{m(!1)}},q=async()=>{if(l.length<2){n("Please select exactly 2 files to compare");return}m(!0),n(""),h(null);try{const[t,a]=l,s=await t.arrayBuffer(),r=await a.arrayBuffer(),d=new Uint8Array(s),p=new Uint8Array(r);let y=d.length===p.length;if(y){for(let f=0;f<d.length;f++)if(d[f]!==p[f]){y=!1;break}}const N=await crypto.subtle.digest("SHA-256",s),L=await crypto.subtle.digest("SHA-256",r),i=f=>Array.from(new Uint8Array(f)).map(E=>E.toString(16).padStart(2,"0")).join("");h({type:"compare",data:{file1:{name:t.name,size:t.size,hash:i(N)},file2:{name:a.name,size:a.size,hash:i(L)},identical:y,sizeDiff:Math.abs(t.size-a.size)}})}catch(t){n(t.message||"Error comparing files")}finally{m(!1)}},Q=async()=>{if(l.length<2){n("Please select at least 2 files to merge");return}m(!0),n(""),h(null);try{const t=l.every(i=>i.name.toLowerCase().endsWith(".pdf")||i.type==="application/pdf"),a=l.every(i=>me(i.name)||i.type.startsWith("text/"));if(t)try{const{PDFDocument:i}=await le(async()=>{const{PDFDocument:O}=await import("./index-CGxw6deM.js").then(Z=>Z.i);return{PDFDocument:O}},__vite__mapDeps([0,1,2])),f=await i.create();for(const O of l){const Z=await O.arrayBuffer(),W=await i.load(Z);(await f.copyPages(W,W.getPageIndices())).forEach(ae=>f.addPage(ae))}const E=await f.save(),B=new Blob([new Uint8Array(E)],{type:"application/pdf"}),k=URL.createObjectURL(B),F=document.createElement("a");F.href=k,F.download="merged.pdf",F.click(),URL.revokeObjectURL(k),h({type:"merge",message:`Merged ${l.length} PDF files`});return}catch(i){console.warn("PDF merge failed, falling back to binary merge",i)}if(a){const f=(await Promise.all(l.map(F=>F.text()))).join(`

`),E=new Blob([f],{type:"text/plain"}),B=URL.createObjectURL(E),k=document.createElement("a");k.href=B,k.download="merged.txt",k.click(),URL.revokeObjectURL(B),h({type:"merge",message:`Merged ${l.length} text files`});return}const s=await Promise.all(l.map(i=>i.arrayBuffer())),r=s.reduce((i,f)=>i+f.byteLength,0),d=new Uint8Array(r);let p=0;for(const i of s)d.set(new Uint8Array(i),p),p+=i.byteLength;const y=new Blob([d]),N=URL.createObjectURL(y),L=document.createElement("a");L.href=N,L.download=t?"merged.pdf":"merged_file.bin",L.click(),URL.revokeObjectURL(N),h({type:"merge",message:`Merged ${l.length} files (${(r/1024).toFixed(1)} KB)`})}catch(t){n(t.message||"Error merging files")}finally{m(!1)}},ee=async()=>{if(!c){n("Please select a file");return}if(z<1024){n("Chunk size must be at least 1 KB");return}m(!0),n(""),h(null);try{const t=await c.arrayBuffer(),a=new Uint8Array(t),s=[];for(let r=0;r<a.length;r+=z){const d=a.slice(r,r+z);s.push(new Blob([d]))}for(let r=0;r<s.length;r++){const d=URL.createObjectURL(s[r]),p=document.createElement("a");p.href=d,p.download=`${c.name}.part${(r+1).toString().padStart(3,"0")}`,p.click(),URL.revokeObjectURL(d),await new Promise(y=>setTimeout(y,100))}h({type:"split",message:`Split into ${s.length} parts`})}catch(t){n(t.message||"Error splitting file")}finally{m(!1)}},M=t=>{t.target.files&&(j(Array.from(t.target.files)),h(null))},D=t=>{var s;const a=((s=t.target.files)==null?void 0:s[0])||null;T(a),h(null),P([]),n(""),U(""),a&&(a.name.toLowerCase().endsWith(".rar")||a.name.toLowerCase().endsWith(".7z"))&&U("Note: You selected a RAR or 7Z file. These formats are not supported in the browser due to technical limitations. Please convert to ZIP or TAR if possible.")},te=[{id:"zip",label:"Create ZIP",icon:I},{id:"extract",label:"Extract",icon:K},{id:"hash",label:"Hash",icon:de},{id:"compare",label:"Compare",icon:oe},{id:"merge",label:"Merge",icon:I},{id:"split",label:"Split",icon:K}];return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(I,{className:"w-6 h-6 text-blue-500"}),"Archive & File Tools"]}),!A&&e.jsx("div",{className:"flex gap-2 flex-wrap mb-6",children:te.map(({id:t,label:a,icon:s})=>e.jsxs("button",{onClick:()=>{u(t),h(null),n(""),U(""),P([])},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${g===t?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200"}`,children:[e.jsx(s,{className:"w-4 h-4"}),a]},t))}),S&&e.jsxs("div",{className:"flex items-center gap-2 text-red-600 bg-red-50 dark:bg-red-900/20 p-4 rounded-xl mb-4",children:[e.jsx(re,{className:"w-5 h-5"}),S]}),C&&e.jsxs("div",{className:"flex items-center gap-2 text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-xl mb-4",children:[e.jsx(ce,{className:"w-5 h-5"}),C]}),g==="zip"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Select multiple files to compress into a ZIP archive."}),e.jsx("input",{type:"file",multiple:!0,onChange:M,className:"input-field"}),l.length>0&&e.jsxs("div",{className:"text-sm text-slate-600",children:["Selected ",l.length," files"]}),e.jsx("button",{onClick:G,disabled:x||l.length===0,className:"btn-primary w-full disabled:opacity-50",children:x?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-5 h-5 animate-spin inline mr-2"}),"Creating..."]}):"Create ZIP"})]}),g==="extract"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Extract files from a ZIP or TAR archive."}),e.jsx("input",{type:"file",accept:".zip,.tar,.gz,.rar,.7z",onChange:D,className:"input-field"}),e.jsx("button",{onClick:J,disabled:x||!c||!!C,className:"btn-primary w-full disabled:opacity-50",children:x?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-5 h-5 animate-spin inline mr-2"}),"Extracting..."]}):"Extract Archive"}),R.length>0&&e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"font-medium",children:["Extracted Files (",R.length,")"]}),e.jsx("button",{onClick:X,className:"btn-secondary text-sm",children:"Download All"})]}),e.jsx("div",{className:"max-h-60 overflow-y-auto space-y-1",children:R.map((t,a)=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-800 rounded",children:[e.jsx("span",{className:"text-sm truncate flex-1",children:t.name}),e.jsx("button",{onClick:()=>$(t),className:"btn-secondary p-1",children:e.jsx(ne,{className:"w-4 h-4"})})]},a))})]})]}),g==="hash"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Calculate SHA-256 and SHA-1 hashes of a file."}),e.jsx("input",{type:"file",onChange:D,className:"input-field"}),e.jsx("button",{onClick:Y,disabled:x||!c,className:"btn-primary w-full disabled:opacity-50",children:x?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-5 h-5 animate-spin inline mr-2"}),"Calculating..."]}):"Generate Hash"})]}),g==="compare"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Compare two files to check if they are identical."}),e.jsx("input",{type:"file",multiple:!0,onChange:M,className:"input-field"}),l.length>0&&e.jsxs("div",{className:"text-sm text-slate-600",children:["Selected ",l.length," files (need exactly 2)"]}),e.jsx("button",{onClick:q,disabled:x||l.length!==2,className:"btn-primary w-full disabled:opacity-50",children:x?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-5 h-5 animate-spin inline mr-2"}),"Comparing..."]}):"Compare Files"})]}),g==="merge"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Merge multiple files. smart-merge for PDFs and Text files. Binary concatenation for others."}),e.jsx("input",{type:"file",multiple:!0,onChange:M,className:"input-field"}),l.length>0&&e.jsxs("div",{className:"text-sm text-slate-600",children:["Selected ",l.length," files"]}),e.jsx("button",{onClick:Q,disabled:x||l.length<2,className:"btn-primary w-full disabled:opacity-50",children:x?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-5 h-5 animate-spin inline mr-2"}),"Merging..."]}):"Merge Files"})]}),g==="split"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Split a large file into smaller chunks."}),e.jsx("input",{type:"file",onChange:D,className:"input-field"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Chunk Size: ",(z/1024/1024).toFixed(1)," MB"]}),e.jsx("input",{type:"range",min:102400,max:10485760,step:102400,value:z,onChange:t=>V(Number(t.target.value)),className:"w-full"})]}),e.jsx("button",{onClick:ee,disabled:x||!c,className:"btn-primary w-full disabled:opacity-50",children:x?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-5 h-5 animate-spin inline mr-2"}),"Splitting..."]}):"Split File"})]}),o&&e.jsxs("div",{className:"card mt-6 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[o.message&&e.jsx("div",{className:"text-green-600 font-medium mb-2",children:o.message}),o.type==="hash"&&o.data&&e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"File:"})," ",o.data.filename]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Size:"})," ",(o.data.size/1024).toFixed(1)," KB"]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm font-medium",children:"SHA-256:"}),e.jsx("code",{className:"block p-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs break-all",children:o.data["SHA-256"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"SHA-1:"}),e.jsx("code",{className:"block p-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs break-all",children:o.data["SHA-1"]})]})]}),o.type==="compare"&&o.data&&e.jsxs("div",{className:"space-y-3 mt-2",children:[e.jsxs("div",{className:`flex items-center gap-2 text-lg font-bold ${o.data.identical?"text-green-600":"text-red-600"}`,children:[o.data.identical?e.jsx(ie,{className:"w-6 h-6"}):e.jsx(se,{className:"w-6 h-6"}),o.data.identical?"Files are identical":"Files are different"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:o.data.file1.name}),e.jsx("br",{}),"Size: ",(o.data.file1.size/1024).toFixed(1)," KB"]}),e.jsxs("div",{children:[e.jsx("strong",{children:o.data.file2.name}),e.jsx("br",{}),"Size: ",(o.data.file2.size/1024).toFixed(1)," KB"]})]})]})]})]})})}export{we as A};
