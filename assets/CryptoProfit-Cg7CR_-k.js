import{r as p,j as e}from"./index-DrWj1tgA.js";import{C as N}from"./coins-BXjlrP2l.js";import{D as P}from"./download-DZ1EfTSG.js";import{T as C}from"./trending-up-CZ5q9nyq.js";import{T as w}from"./trending-down-CL438lF3.js";import{P as $}from"./plus-DPTEUXD6.js";import{T as k}from"./trash-2-DTZrw6Iv.js";function F(){const[c,u]=p.useState(()=>{const t=localStorage.getItem("cryptoHoldings");return t?JSON.parse(t):[]}),[s,d]=p.useState({name:"",symbol:"",quantity:"",buyPrice:"",currentPrice:""});p.useEffect(()=>{localStorage.setItem("cryptoHoldings",JSON.stringify(c))},[c]);const f=()=>{!s.name||!s.quantity||!s.buyPrice||!s.currentPrice||(u([...c,{id:Date.now().toString(),name:s.name,symbol:s.symbol.toUpperCase()||s.name.substring(0,3).toUpperCase(),quantity:parseFloat(s.quantity),buyPrice:parseFloat(s.buyPrice),currentPrice:parseFloat(s.currentPrice)}]),d({name:"",symbol:"",quantity:"",buyPrice:"",currentPrice:""}))},v=(t,a)=>{u(c.map(r=>r.id===t?{...r,currentPrice:a}:r))},b=t=>u(c.filter(a=>a.id!==t)),x=t=>{const a=t.quantity*t.buyPrice,r=t.quantity*t.currentPrice,o=r-a,l=a>0?(r-a)/a*100:0;return{invested:a,current:r,profit:o,percentChange:l}},n=c.reduce((t,a)=>{const{invested:r,current:o,profit:l}=x(a);return{invested:t.invested+r,current:t.current+o,profit:t.profit+l}},{invested:0,current:0,profit:0}),y=n.invested>0?(n.current-n.invested)/n.invested*100:0,i=t=>"$"+Math.abs(t).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),m=t=>(t>=0?"+":"")+t.toFixed(2)+"%",h=()=>{let t=`=== Crypto Portfolio ===

`;c.forEach(l=>{const{profit:g,percentChange:j}=x(l);t+=`${l.name} (${l.symbol})
`,t+=`  Quantity: ${l.quantity}
`,t+=`  Buy Price: ${i(l.buyPrice)}
`,t+=`  Current Price: ${i(l.currentPrice)}
`,t+=`  P/L: ${g>=0?"+":"-"}${i(g)} (${m(j)})

`}),t+=`=== Totals ===
`,t+=`Total Invested: ${i(n.invested)}
`,t+=`Current Value: ${i(n.current)}
`,t+=`Total P/L: ${n.profit>=0?"+":"-"}${i(n.profit)} (${m(y)})
`;const a=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(a),o=document.createElement("a");o.href=r,o.download="crypto-portfolio.txt",o.click(),URL.revokeObjectURL(r)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[e.jsx(N,{className:"w-6 h-6 text-yellow-500"}),"Crypto Profit Calculator"]}),c.length>0&&e.jsxs("button",{onClick:h,className:"btn-secondary text-sm flex items-center gap-1",children:[e.jsx(P,{className:"w-4 h-4"})," Export"]})]}),c.length>0&&e.jsxs("div",{className:`rounded-xl p-6 text-white text-center mb-6 ${n.profit>=0?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-red-500 to-rose-600"}`,children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.profit>=0?e.jsx(C,{className:"w-8 h-8"}):e.jsx(w,{className:"w-8 h-8"}),e.jsx("span",{className:"text-lg",children:"Portfolio P/L"})]}),e.jsxs("div",{className:"text-5xl font-bold",children:[n.profit>=0?"+":"-",i(n.profit)]}),e.jsx("div",{className:"text-xl opacity-80",children:m(y)}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[e.jsxs("div",{className:"bg-white/20 p-2 rounded-lg",children:[e.jsx("div",{className:"opacity-80",children:"Invested"}),e.jsx("div",{className:"font-bold",children:i(n.invested)})]}),e.jsxs("div",{className:"bg-white/20 p-2 rounded-lg",children:[e.jsx("div",{className:"opacity-80",children:"Current Value"}),e.jsx("div",{className:"font-bold",children:i(n.current)})]})]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-xl mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Add Crypto Holding"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:[e.jsx("input",{type:"text",placeholder:"Coin name (e.g., Bitcoin)",value:s.name,onChange:t=>d({...s,name:t.target.value}),className:"input-field"}),e.jsx("input",{type:"text",placeholder:"Symbol (e.g., BTC)",value:s.symbol,onChange:t=>d({...s,symbol:t.target.value}),className:"input-field"}),e.jsx("input",{type:"number",step:"any",placeholder:"Quantity",value:s.quantity,onChange:t=>d({...s,quantity:t.target.value}),className:"input-field"}),e.jsx("input",{type:"number",step:"any",placeholder:"Buy price ($)",value:s.buyPrice,onChange:t=>d({...s,buyPrice:t.target.value}),className:"input-field"}),e.jsx("input",{type:"number",step:"any",placeholder:"Current price ($)",value:s.currentPrice,onChange:t=>d({...s,currentPrice:t.target.value}),className:"input-field"}),e.jsxs("button",{onClick:f,className:"btn-primary flex items-center justify-center gap-1",children:[e.jsx($,{className:"w-5 h-5"})," Add"]})]})]}),e.jsx("div",{className:"space-y-3",children:c.map(t=>{const{invested:a,profit:r,percentChange:o}=x(t);return e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-lg",children:t.name}),e.jsxs("div",{className:"text-sm text-slate-500",children:[t.symbol," • ",t.quantity," coins"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-xl font-bold ${r>=0?"text-green-600":"text-red-600"}`,children:[r>=0?"+":"-",i(r)]}),e.jsx("div",{className:`text-sm ${o>=0?"text-green-600":"text-red-600"}`,children:m(o)})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-slate-500",children:"Buy Price"}),e.jsx("div",{className:"font-medium",children:i(t.buyPrice)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-slate-500",children:"Current"}),e.jsx("input",{type:"number",step:"any",value:t.currentPrice,onChange:l=>v(t.id,parseFloat(l.target.value)||0),className:"input-field text-sm p-1"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-slate-500",children:"Invested"}),e.jsx("div",{className:"font-medium",children:i(a)})]}),e.jsx("div",{className:"flex items-end justify-end",children:e.jsx("button",{onClick:()=>b(t.id),className:"text-red-400 hover:text-red-500",children:e.jsx(k,{className:"w-5 h-5"})})})]})]},t.id)})}),c.length===0&&e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Add your crypto holdings to track profit/loss"})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 text-sm text-yellow-800 dark:text-yellow-100",children:[e.jsx("strong",{children:"⚠️ Disclaimer:"})," This is for tracking purposes only. Update current prices manually. Crypto investments are volatile and risky."]})]})}export{F as default};
