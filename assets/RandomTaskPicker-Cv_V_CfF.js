import{r as c,j as e,S as h}from"./index-Ckx5g3CE.js";import{S as v}from"./shuffle-BsKthHrj.js";import{P as O}from"./plus-CQGEH8ka.js";import{T as L}from"./trash-2-BMd0ar08.js";import{D as M}from"./download-CBMF7h4P.js";function $(){const[s,w]=c.useState(()=>{const t=localStorage.getItem("randomTasks");return t?JSON.parse(t):[]}),[m,f]=c.useState(""),[x,o]=c.useState(null),[d,k]=c.useState(!1),[g,j]=c.useState(null),i=t=>{j(t),setTimeout(()=>j(null),3e3)},p=t=>{w(t),localStorage.setItem("randomTasks",JSON.stringify(t))},b=()=>{if(m.trim()){if(s.includes(m.trim())){i("Task already exists!");return}p([...s,m.trim()]),f(""),i("Task added!")}},y=c.useCallback(()=>{try{const t=new(window.AudioContext||window.webkitAudioContext);[523,659,784,1047].forEach((l,n)=>{const a=t.createOscillator(),r=t.createGain();a.frequency.value=l,a.type="sine",r.gain.setValueAtTime(.2,t.currentTime+n*.1),r.gain.exponentialRampToValueAtTime(.01,t.currentTime+n*.1+.15),a.connect(r),r.connect(t.destination),a.start(t.currentTime+n*.1),a.stop(t.currentTime+n*.1+.15)})}catch{}},[]),S=()=>{if(s.length===0)return;k(!0),o(null);let t=0;const l=15,n=setInterval(()=>{if(o(s[Math.floor(Math.random()*s.length)]),t++,t>=l){clearInterval(n);const a=s[Math.floor(Math.random()*s.length)];o(a),k(!1),y()}},100)},C=t=>{const l=s[t];p(s.filter((n,a)=>a!==t)),x===l&&o(null),i("Task removed")},A=()=>{confirm("Clear all tasks?")&&(p([]),o(null),i("All tasks cleared"))},R=()=>{const t=s.join(`
`),l=new Blob([t],{type:"text/plain"}),n=URL.createObjectURL(l),a=document.createElement("a");a.href=n,a.download="random-tasks.txt",a.click(),URL.revokeObjectURL(n),i("Tasks exported!")},P=()=>{const t=document.createElement("input");t.type="file",t.accept=".txt",t.onchange=l=>{var a;const n=(a=l.target.files)==null?void 0:a[0];if(n){const r=new FileReader;r.onload=E=>{var T;const N=((T=E.target)==null?void 0:T.result).split(`
`).map(u=>u.trim()).filter(u=>u),I=[...new Set([...s,...N])];p(I),i(`Imported ${N.length} tasks!`)},r.readAsText(n)}},t.click()};return e.jsxs("div",{className:"space-y-6",children:[g&&e.jsx("div",{className:"fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg bg-purple-500 text-white animate-fade-in",children:g}),e.jsxs("div",{className:"card bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(v,{className:"w-6 h-6 text-purple-500"}),"Random Task Picker"]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",value:m,onChange:t=>f(t.target.value),onKeyPress:t=>t.key==="Enter"&&b(),placeholder:"Add a task to the pool",className:"flex-1 input-field"}),e.jsx("button",{onClick:b,className:"btn-primary",children:e.jsx(O,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"space-y-2 mb-4 max-h-48 overflow-y-auto",children:s.length===0?e.jsx("div",{className:"text-center py-4 text-slate-400",children:"Add some tasks to get started!"}):s.map((t,l)=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-all ${x===t&&!d?"bg-purple-200 dark:bg-purple-800 ring-2 ring-purple-500":"bg-slate-50 dark:bg-slate-800"}`,children:[e.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:t}),e.jsx("button",{onClick:()=>C(l),className:"text-red-400 hover:text-red-500",children:e.jsx(L,{className:"w-4 h-4"})})]},l))}),e.jsxs("button",{onClick:S,disabled:s.length===0||d,className:"btn-primary w-full flex items-center justify-center gap-2 py-3 text-lg disabled:opacity-50",children:[d?e.jsx(h,{className:"w-6 h-6 animate-spin"}):e.jsx(v,{className:"w-6 h-6"}),d?"Picking...":"Pick Random Task"]}),x&&!d&&e.jsxs("div",{className:"mt-4 p-6 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl text-center animate-fade-in",children:[e.jsx("div",{className:"text-sm text-white/80 mb-1",children:"Your task is:"}),e.jsxs("div",{className:"text-2xl font-bold text-white flex items-center justify-center gap-2",children:[e.jsx(h,{className:"w-6 h-6"}),x,e.jsx(h,{className:"w-6 h-6"})]})]}),s.length>0&&e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:R,className:"btn-secondary flex-1 flex items-center justify-center gap-1 text-sm",children:[e.jsx(M,{className:"w-4 h-4"})," Export"]}),e.jsx("button",{onClick:P,className:"btn-secondary flex-1 text-sm",children:"Import"}),e.jsx("button",{onClick:A,className:"btn-secondary flex-1 text-sm text-red-500",children:"Clear All"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:s.length}),e.jsx("div",{className:"text-sm text-slate-500",children:"Tasks in Pool"})]}),e.jsxs("div",{className:"card text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-pink-600",children:[s.length>0?(100/s.length).toFixed(1):0,"%"]}),e.jsx("div",{className:"text-sm text-slate-500",children:"Chance per Task"})]})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/30 border border-purple-200 dark:border-purple-800 rounded-lg p-4 text-sm text-purple-800 dark:text-purple-100",children:[e.jsx("strong",{children:"ðŸ’¡ Tip:"})," Can't decide what to do? Add your options and let fate decide! Great for choosing between tasks, restaurants, or activities."]})]})}export{$ as default};
