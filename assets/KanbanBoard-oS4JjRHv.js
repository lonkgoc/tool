import{c as N,r as c,j as t,X as O}from"./index-Ckx5g3CE.js";import{D as I}from"./download-CBMF7h4P.js";import{P as R}from"./plus-CQGEH8ka.js";import{A as $}from"./arrow-right-BvQCXyho.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=N("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=N("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),v=["bg-yellow-100","bg-blue-100","bg-green-100","bg-pink-100","bg-purple-100"];function z(){const[d,o]=c.useState(()=>{const e=localStorage.getItem("kanbanBoard");return e?JSON.parse(e):[{id:"todo",title:"To Do",cards:[]},{id:"inprogress",title:"In Progress",cards:[]},{id:"done",title:"Done",cards:[]}]}),[h,p]=c.useState(""),[g,w]=c.useState("todo"),[b,u]=c.useState(null),[n,f]=c.useState(null);c.useEffect(()=>{localStorage.setItem("kanbanBoard",JSON.stringify(d))},[d]);const x=e=>{u(e),setTimeout(()=>u(null),3e3)},y=()=>{if(h.trim()){const e={id:Date.now().toString(),text:h.trim(),color:v[Math.floor(Math.random()*v.length)],createdAt:new Date().toISOString()};o(d.map(a=>a.id===g?{...a,cards:[...a.cards,e]}:a)),p(""),x("Card added!")}},j=(e,a,s)=>{var l;if(a===s)return;const i=(l=d.find(r=>r.id===a))==null?void 0:l.cards.find(r=>r.id===e);i&&o(d.map(r=>r.id===a?{...r,cards:r.cards.filter(m=>m.id!==e)}:r.id===s?{...r,cards:[...r.cards,i]}:r))},C=(e,a)=>{o(d.map(s=>s.id===a?{...s,cards:s.cards.filter(i=>i.id!==e)}:s)),x("Card removed")},D=e=>{o(d.map(a=>a.id===e?{...a,cards:[]}:a)),x("Column cleared")},S=()=>{let e=`=== Kanban Board Export ===

`;d.forEach(l=>{e+=`## ${l.title} (${l.cards.length})
`,l.cards.forEach((r,m)=>{e+=`  ${m+1}. ${r.text}
`}),e+=`
`});const a=new Blob([e],{type:"text/plain"}),s=URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download="kanban-board.txt",i.click(),URL.revokeObjectURL(s),x("Board exported!")},E=(e,a)=>{f({card:e,columnId:a})},B=e=>{e.preventDefault()},L=e=>{n&&n.columnId!==e&&j(n.card.id,n.columnId,e),f(null)},k=d.reduce((e,a)=>e+a.cards.length,0);return t.jsxs("div",{className:"space-y-6",children:[b&&t.jsx("div",{className:"fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg bg-blue-500 text-white animate-fade-in",children:b}),t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[t.jsx(T,{className:"w-6 h-6 text-blue-500"}),"Kanban Board"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm text-slate-500",children:[k," cards"]}),k>0&&t.jsxs("button",{onClick:S,className:"btn-secondary text-sm flex items-center gap-1",children:[t.jsx(I,{className:"w-4 h-4"})," Export"]})]})]}),t.jsxs("div",{className:"flex gap-2 mb-6",children:[t.jsx("input",{type:"text",value:h,onChange:e=>p(e.target.value),onKeyPress:e=>e.key==="Enter"&&y(),placeholder:"Add a new card...",className:"flex-1 input-field"}),t.jsx("select",{value:g,onChange:e=>w(e.target.value),className:"input-field w-32",children:d.map(e=>t.jsx("option",{value:e.id,children:e.title},e.id))}),t.jsx("button",{onClick:y,className:"btn-primary",children:t.jsx(R,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.map(e=>t.jsxs("div",{className:`bg-slate-50 dark:bg-slate-800 rounded-xl p-4 transition-all ${n&&n.columnId!==e.id?"ring-2 ring-blue-400 ring-dashed":""}`,onDragOver:B,onDrop:()=>L(e.id),children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[e.title,t.jsx("span",{className:"text-xs bg-slate-200 dark:bg-slate-700 px-2 py-0.5 rounded-full",children:e.cards.length})]}),e.cards.length>0&&t.jsx("button",{onClick:()=>D(e.id),className:"text-xs text-slate-400 hover:text-red-500",children:"Clear"})]}),t.jsxs("div",{className:"space-y-2 min-h-[200px]",children:[e.cards.map(a=>t.jsxs("div",{draggable:!0,onDragStart:()=>E(a,e.id),className:`${a.color} dark:bg-opacity-20 p-3 rounded-lg shadow-sm cursor-move hover:shadow-md transition-shadow group`,children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(K,{className:"w-4 h-4 text-slate-400 flex-shrink-0 mt-0.5"}),t.jsx("span",{className:"flex-1 text-sm text-slate-800 dark:text-slate-200",children:a.text}),t.jsx("button",{onClick:()=>C(a.id,e.id),className:"text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(O,{className:"w-4 h-4"})})]}),t.jsx("div",{className:"flex gap-1 mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:d.filter(s=>s.id!==e.id).map(s=>t.jsxs("button",{onClick:()=>j(a.id,e.id,s.id),className:"text-xs px-2 py-0.5 bg-white/50 dark:bg-slate-700/50 rounded flex items-center gap-1 hover:bg-white dark:hover:bg-slate-600",children:[t.jsx($,{className:"w-3 h-3"}),s.title]},s.id))})]},a.id)),e.cards.length===0&&t.jsx("div",{className:"text-center py-8 text-slate-400 text-sm border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-lg",children:"Drop cards here"})]})]},e.id))})]}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm text-blue-800 dark:text-blue-100",children:[t.jsx("strong",{children:"ðŸ’¡ Tip:"})," Drag cards between columns or use the quick move buttons. Kanban boards help visualize workflow and limit work-in-progress."]})]})}export{z as default};
