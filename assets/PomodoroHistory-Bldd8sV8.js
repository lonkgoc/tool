import{r as l,j as e}from"./index-DqXMfBpZ.js";import{P as b}from"./pause-DSWOYbfx.js";import{P as f}from"./play-vEvvyHBn.js";import{R as v}from"./rotate-ccw-Cs3xOWWh.js";import{C as N}from"./clock-CL1yEH2o.js";function T(){const[a,m]=l.useState(()=>{const t=localStorage.getItem("pomodoroHistory");return t?JSON.parse(t):[]}),[g,c]=l.useState(0),[o,d]=l.useState(!1),[i,u]=l.useState("work");l.useEffect(()=>{localStorage.setItem("pomodoroHistory",JSON.stringify(a))},[a]),l.useEffect(()=>{let t;return o&&(t=setInterval(()=>{c(s=>{if(s>=25*60){d(!1);const r={id:Date.now().toString(),date:new Date().toISOString().split("T")[0],duration:25,category:i,completed:!0};return m([...a,r]),0}return s+1})},1e3)),()=>clearInterval(t)},[o,a,i]);const h=()=>d(!o),p=()=>{c(0),d(!1)},j=t=>{const s=Math.floor(t/60),r=t%60;return`${String(s).padStart(2,"0")}:${String(r).padStart(2,"0")}`},n={total:a.length,today:a.filter(t=>t.date===new Date().toISOString().split("T")[0]).length,thisWeek:a.filter(t=>{const s=new Date(t.date),r=new Date;return r.setDate(r.getDate()-7),s>=r}).length,totalMinutes:a.reduce((t,s)=>t+s.duration,0)},x=a.reduce((t,s)=>(t[s.category]=(t[s.category]||0)+1,t),{});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg p-8 text-white text-center",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pomodoro Timer"}),e.jsx("div",{className:"text-6xl font-bold font-mono mb-4",children:j(g)}),e.jsxs("div",{className:"flex gap-4 justify-center mb-4",children:[e.jsx("button",{onClick:h,className:"p-3 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors",children:o?e.jsx(b,{className:"w-6 h-6"}):e.jsx(f,{className:"w-6 h-6"})}),e.jsx("button",{onClick:p,className:"p-3 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors",children:e.jsx(v,{className:"w-6 h-6"})})]}),e.jsxs("select",{value:i,onChange:t=>u(t.target.value),className:"px-4 py-2 rounded text-slate-900 font-medium",children:[e.jsx("option",{value:"work",children:"Work"}),e.jsx("option",{value:"study",children:"Study"}),e.jsx("option",{value:"creative",children:"Creative"}),e.jsx("option",{value:"personal",children:"Personal"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:n.today}),e.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Today"})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:n.thisWeek}),e.jsx("div",{className:"text-xs text-purple-700 dark:text-purple-300",children:"This Week"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:n.total}),e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"Total"})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900 p-3 rounded-lg text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[Math.round(n.totalMinutes/60),"h"]}),e.jsx("div",{className:"text-xs text-orange-700 dark:text-orange-300",children:"Focused"})]})]}),Object.keys(x).length>0&&e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"By Category"}),e.jsx("div",{className:"space-y-2",children:Object.entries(x).map(([t,s])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-300 capitalize",children:t}),e.jsxs("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:[s," sessions"]})]},t))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Recent Sessions"}),a.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[e.jsx(N,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No Pomodoro sessions yet"})]}):e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[...a].reverse().slice(0,20).map(t=>e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:[t.duration," min - ",t.category]}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:new Date(t.date).toLocaleDateString()})]}),t.completed&&e.jsx("div",{className:"text-green-500 font-bold",children:"âœ“"})]},t.id))})]})]})}export{T as default};
