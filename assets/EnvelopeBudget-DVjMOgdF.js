import{c as $,r as b,j as e}from"./index-DrWj1tgA.js";import{D as E}from"./download-DZ1EfTSG.js";import{T as B}from"./trash-2-DTZrw6Iv.js";import{P as C}from"./plus-DPTEUXD6.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=$("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),c=["#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#8b5cf6","#ec4899"];function U(){const[o,j]=b.useState(()=>{const t=localStorage.getItem("envelopeBudget");return t?JSON.parse(t).income:5e3}),[n,i]=b.useState(()=>{const t=localStorage.getItem("envelopeBudget");return t?JSON.parse(t).envelopes:[{id:"1",name:"Housing",budgeted:1500,spent:0,color:c[0]},{id:"2",name:"Groceries",budgeted:600,spent:0,color:c[1]},{id:"3",name:"Transportation",budgeted:400,spent:0,color:c[2]},{id:"4",name:"Utilities",budgeted:200,spent:0,color:c[3]},{id:"5",name:"Entertainment",budgeted:300,spent:0,color:c[4]}]}),[l,p]=b.useState({name:"",budgeted:""});b.useEffect(()=>{localStorage.setItem("envelopeBudget",JSON.stringify({income:o,envelopes:n}))},[o,n]);const v=()=>{!l.name||!l.budgeted||(i([...n,{id:Date.now().toString(),name:l.name,budgeted:parseFloat(l.budgeted),spent:0,color:c[n.length%c.length]}]),p({name:"",budgeted:""}))},f=(t,s)=>{i(n.map(a=>a.id===t?{...a,spent:Math.max(0,s)}:a))},N=(t,s)=>{i(n.map(a=>a.id===t?{...a,budgeted:Math.max(0,s)}:a))},k=t=>i(n.filter(s=>s.id!==t)),y=()=>{confirm("Reset all spending to $0?")&&i(n.map(t=>({...t,spent:0})))},u=n.reduce((t,s)=>t+s.budgeted,0),w=n.reduce((t,s)=>t+s.spent,0),m=o-u,g=u-w,d=t=>"$"+t.toLocaleString(void 0,{maximumFractionDigits:0}),S=()=>{let t=`=== Envelope Budget ===

`;t+=`Income: ${d(o)}
`,t+=`Total Budgeted: ${d(u)}
`,t+=`Unallocated: ${d(m)}

`,t+=`=== Envelopes ===
`,n.forEach(x=>{const h=x.budgeted-x.spent;t+=`${x.name}: ${d(x.spent)} / ${d(x.budgeted)} (${h>=0?d(h)+" left":d(Math.abs(h))+" over"})
`});const s=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download="envelope-budget.txt",r.click(),URL.revokeObjectURL(a)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[e.jsx(M,{className:"w-6 h-6 text-blue-500"}),"Envelope Budget"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:y,className:"btn-secondary text-sm",children:"Reset"}),e.jsx("button",{onClick:S,className:"btn-secondary text-sm flex items-center gap-1",children:e.jsx(E,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Monthly Income"}),e.jsx("input",{type:"number",value:o,onChange:t=>j(Math.max(0,parseFloat(t.target.value)||0)),className:"input-field text-xl font-bold"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-4 rounded-xl text-center",children:[e.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Budgeted"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d(u)})]}),e.jsxs("div",{className:`p-4 rounded-xl text-center ${m>=0?"bg-green-50 dark:bg-green-900/30":"bg-red-50 dark:bg-red-900/30"}`,children:[e.jsx("div",{className:`text-sm ${m>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:"Unallocated"}),e.jsx("div",{className:`text-2xl font-bold ${m>=0?"text-green-600":"text-red-600"}`,children:d(m)})]}),e.jsxs("div",{className:`p-4 rounded-xl text-center ${g>=0?"bg-green-50 dark:bg-green-900/30":"bg-red-50 dark:bg-red-900/30"}`,children:[e.jsx("div",{className:`text-sm ${g>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:"Remaining"}),e.jsx("div",{className:`text-2xl font-bold ${g>=0?"text-green-600":"text-red-600"}`,children:d(g)})]})]}),e.jsx("div",{className:"space-y-3 mb-6",children:n.map(t=>{const s=t.budgeted-t.spent,a=t.budgeted>0?t.spent/t.budgeted*100:0;return e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"font-semibold",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`font-bold ${s>=0?"text-green-600":"text-red-600"}`,children:s>=0?d(s)+" left":d(Math.abs(s))+" over"}),e.jsx("button",{onClick:()=>k(t.id),className:"text-red-400 hover:text-red-500",children:e.jsx(B,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"h-3 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden mb-2",children:e.jsx("div",{className:`h-full transition-all ${a>100?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(100,a)}%`,backgroundColor:a<=100?t.color:void 0}})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-500",children:"Spent"}),e.jsx("input",{type:"number",value:t.spent||"",onChange:r=>f(t.id,parseFloat(r.target.value)||0),className:"input-field text-sm p-2",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-500",children:"Budget"}),e.jsx("input",{type:"number",value:t.budgeted||"",onChange:r=>N(t.id,parseFloat(r.target.value)||0),className:"input-field text-sm p-2"})]})]})]},t.id)})}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-xl",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Add Envelope"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Category name",value:l.name,onChange:t=>p({...l,name:t.target.value}),className:"input-field flex-1"}),e.jsx("input",{type:"number",placeholder:"Budget",value:l.budgeted,onChange:t=>p({...l,budgeted:t.target.value}),className:"input-field w-32"}),e.jsx("button",{onClick:v,className:"btn-primary px-4",children:e.jsx(C,{className:"w-5 h-5"})})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm text-blue-800 dark:text-blue-100",children:[e.jsx("strong",{children:"ðŸ’¡ Envelope System:"}),' Allocate your income into virtual "envelopes" for different categories. When an envelope is empty, stop spending in that category until next month!']})]})}export{U as default};
