import{c as y,r as d,j as e}from"./index-DrWj1tgA.js";import{U as C}from"./upload-C3dpc3Xt.js";import{C as N}from"./check-circle-C3KfwPcx.js";import{A as j}from"./alert-circle-CB5MyUBg.js";import{I}from"./info-D2-6aX7Y.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=y("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);function D(){const[o,h]=d.useState(null),[l,m]=d.useState(null),[F,f]=d.useState(!1),p=d.useRef(null),v=(s,a)=>{var n;if(s[0]===255&&s[1]===216)return"JPEG Image";if(s[0]===137&&s[1]===80&&s[2]===78&&s[3]===71)return"PNG Image";if(s[0]===71&&s[1]===73&&s[2]===70)return"GIF Image";if(s[0]===37&&s[1]===80&&s[2]===68&&s[3]===70)return"PDF Document";if(s[0]===80&&s[1]===75&&s[2]===3&&s[3]===4)return"ZIP Archive";if(s[0]===82&&s[1]===97&&s[2]===114)return"RAR Archive";if(s[0]===123)return"JSON File";if(s[0]===60)return"XML/HTML File";const c=((n=a.split(".").pop())==null?void 0:n.toLowerCase())||"";return{txt:"Text File",csv:"CSV File",md:"Markdown File",js:"JavaScript File",ts:"TypeScript File",py:"Python File",doc:"Word Document",docx:"Word Document",xls:"Excel Spreadsheet",xlsx:"Excel Spreadsheet",ppt:"PowerPoint",pptx:"PowerPoint"}[c]||"Unknown File Type"},w=async s=>{var c,x;const a=(c=s.target.files)==null?void 0:c[0];if(a){h(a),f(!0);try{const n=await a.arrayBuffer(),u=new Uint8Array(n),r=v(u,a.name),t=[];if(t.push({name:"File Size",passed:a.size>0,message:a.size>0?`${(a.size/1024).toFixed(2)} KB`:"File is empty"}),t.push({name:"File Extension",passed:a.name.includes("."),message:a.name.includes(".")?((x=a.name.split(".").pop())==null?void 0:x.toUpperCase())||"None":"No extension"}),t.push({name:"File Type Detection",passed:r!=="Unknown File Type",message:r}),r==="JSON File")try{const i=new TextDecoder().decode(u);JSON.parse(i),t.push({name:"JSON Syntax",passed:!0,message:"Valid JSON syntax"})}catch{t.push({name:"JSON Syntax",passed:!1,message:"Invalid JSON syntax"})}if(r==="XML/HTML File"){const i=new TextDecoder().decode(u),g=i.includes("<")&&i.includes(">");t.push({name:"XML/HTML Structure",passed:g,message:g?"Contains valid tags":"Missing tags"})}r.includes("Image")&&t.push({name:"Image Header",passed:!0,message:"Valid image header detected"});const k=t.every(i=>i.passed);m({valid:k,type:r,checks:t})}catch(n){m({valid:!1,type:"Error",checks:[{name:"Error",passed:!1,message:n.message}]})}finally{f(!1)}}},S=()=>{h(null),m(null),p.current&&(p.current.value="")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(T,{className:"w-6 h-6 text-green-500"}),"File Validator"]}),e.jsxs("label",{className:"cursor-pointer block mb-4",children:[e.jsx("input",{ref:p,type:"file",onChange:w,className:"hidden"}),e.jsx("div",{className:"flex items-center justify-center p-8 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl hover:border-green-500 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx(C,{className:"w-12 h-12 mx-auto mb-4 text-slate-400"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:o?o.name:"Click to upload file"}),F&&e.jsx("p",{className:"text-sm text-slate-500",children:"Validating..."})]})})]}),l&&e.jsxs("div",{className:`p-4 rounded-xl mb-4 ${l.valid?"bg-green-50 dark:bg-green-900/20":"bg-yellow-50 dark:bg-yellow-900/20"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.valid?e.jsx(N,{className:"w-6 h-6 text-green-500"}):e.jsx(j,{className:"w-6 h-6 text-yellow-500"}),e.jsx("span",{className:"font-bold text-lg",children:l.valid?"File is Valid":"Validation Issues Found"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:"text-sm text-slate-500",children:"Detected Type:"}),e.jsx("span",{className:"ml-2 font-medium",children:l.type})]}),e.jsx("div",{className:"space-y-2",children:l.checks.map((s,a)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.passed?e.jsx(N,{className:"w-4 h-4 text-green-500"}):e.jsx(j,{className:"w-4 h-4 text-yellow-500"}),e.jsxs("span",{className:"font-medium",children:[s.name,":"]}),e.jsx("span",{children:s.message})]},a))})]}),o&&e.jsx("button",{onClick:S,className:"btn-secondary w-full",children:"Clear"})]}),e.jsxs("div",{className:"text-sm text-slate-500 bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl flex items-start gap-2",children:[e.jsx(I,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsx("p",{children:"This tool validates file structure by checking magic bytes, file extension, and content syntax for supported formats (JSON, XML, images, PDFs, archives)."})]})]})}export{D as default};
