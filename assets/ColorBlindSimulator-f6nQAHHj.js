import{r as s,j as e}from"./index-DqXMfBpZ.js";import{U as j}from"./upload-DyHvPoT9.js";import{E as f}from"./eye-BOV7D_xt.js";function k(){var n,d,c;const[i,l]=s.useState(null),[g,o]=s.useState(!1),[t,u]=s.useState("normal"),r=[{id:"normal",name:"Normal Vision",description:"Standard trichromatic vision"},{id:"protanopia",name:"Protanopia",description:"Red-blind (no red cones)"},{id:"protanomaly",name:"Protanomaly",description:"Red-weak (mutated red cones)"},{id:"deuteranopia",name:"Deuteranopia",description:"Green-blind (no green cones)"},{id:"deuteranomaly",name:"Deuteranomaly",description:"Green-weak (mutated green cones)"},{id:"tritanopia",name:"Tritanopia",description:"Blue-blind (no blue cones)"},{id:"tritanomaly",name:"Tritanomaly",description:"Blue-weak (mutated blue cones)"},{id:"achromatopsia",name:"Achromatopsia",description:"Total color blindness (monochromatic)"},{id:"achromatomaly",name:"Achromatomaly",description:"Partial color blindness (low saturation)"}],p=a=>{var x;const m=(x=a.target.files)==null?void 0:x[0];if(m){o(!0);const b=URL.createObjectURL(m);l(b),o(!1)}},h=()=>e.jsx("svg",{className:"hidden",children:e.jsxs("defs",{children:[e.jsx("filter",{id:"protanopia",children:e.jsx("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0.567, 0.433, 0, 0, 0 0.558, 0.442, 0, 0, 0 0, 0.242, 0.758, 0, 0 0, 0, 0, 1, 0"})}),e.jsx("filter",{id:"protanomaly",children:e.jsx("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0.817, 0.183, 0, 0, 0 0.333, 0.667, 0, 0, 0 0, 0.125, 0.875, 0, 0 0, 0, 0, 1, 0"})}),e.jsx("filter",{id:"deuteranopia",children:e.jsx("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0.625, 0.375, 0, 0, 0 0.7, 0.3, 0, 0, 0 0, 0.3, 0.7, 0, 0 0, 0, 0, 1, 0"})}),e.jsx("filter",{id:"deuteranomaly",children:e.jsx("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0.8, 0.2, 0, 0, 0 0.258, 0.742, 0, 0, 0 0, 0.142, 0.858, 0, 0 0, 0, 0, 1, 0"})}),e.jsx("filter",{id:"tritanopia",children:e.jsx("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0.95, 0.05, 0, 0, 0 0, 0.433, 0.567, 0, 0 0, 0.475, 0.525, 0, 0 0, 0, 0, 1, 0"})}),e.jsx("filter",{id:"tritanomaly",children:e.jsx("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0.967, 0.033, 0, 0, 0 0, 0.733, 0.267, 0, 0 0, 0.183, 0.817, 0, 0 0, 0, 0, 1, 0"})}),e.jsx("filter",{id:"achromatopsia",children:e.jsx("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0.299, 0.587, 0.114, 0, 0 0.299, 0.587, 0.114, 0, 0 0.299, 0.587, 0.114, 0, 0 0, 0, 0, 1, 0"})}),e.jsx("filter",{id:"achromatomaly",children:e.jsx("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0.618, 0.320, 0.062, 0, 0 0.163, 0.775, 0.062, 0, 0 0.163, 0.320, 0.516, 0, 0 0, 0, 0, 1, 0"})})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsx(h,{}),i?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Simulation Type"}),e.jsx("div",{className:"space-y-2",children:r.map(a=>e.jsxs("button",{onClick:()=>u(a.id),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${t===a.id?"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 border-blue-200 dark:border-blue-800 border":"hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300"}`,children:[e.jsx("div",{className:"font-medium",children:a.name}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:a.description})]},a.id))})]}),e.jsx("button",{onClick:()=>l(null),className:"w-full btn-secondary",children:"Upload New Image"})]}),e.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700 min-h-[500px] flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute top-4 left-4 bg-black/75 text-white text-xs px-2 py-1 rounded backdrop-blur-sm z-10 font-medium",children:[(n=r.find(a=>a.id===t))==null?void 0:n.name," Simulation"]}),e.jsx("img",{src:i,alt:"Simulation Preview",className:"max-w-full max-h-[600px] object-contain transition-all duration-300",style:{filter:t!=="normal"?`url(#${t})`:"none"}}),t!=="normal"&&e.jsx("div",{className:"absolute inset-0 pointer-events-none border-[6px] border-blue-500/0 transition-colors"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg flex items-start gap-3",children:[e.jsx(f,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:["About ",(d=r.find(a=>a.id===t))==null?void 0:d.name]}),e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 mt-1",children:[(c=r.find(a=>a.id===t))==null?void 0:c.description,"."]})]})]})]})]}):e.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl p-12 text-center hover:border-blue-500 transition-colors bg-white dark:bg-slate-800",children:[e.jsx(j,{className:"w-12 h-12 mx-auto text-slate-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-2",children:"Upload an Image"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Support for JPG, PNG, WEBP"}),e.jsxs("label",{className:"inline-block",children:[e.jsx("span",{className:"btn-primary cursor-pointer",children:"Choose File"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:p})]})]})]})}export{k as default};
