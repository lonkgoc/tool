import{c as B,r as x,j as e,X as P}from"./index-Ckx5g3CE.js";import{U as Y}from"./upload-BeZbD1lf.js";import{C as D}from"./copy-D3GgtY91.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=B("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);function q(){const[u,v]=x.useState(null),[c,N]=x.useState(null),[p,I]=x.useState("hex"),[R,k]=x.useState(!1),g=x.useRef(null),f=x.useRef(null),[O,C]=x.useState(null),$=r=>{var a;const t=(a=r.target.files)==null?void 0:a[0];if(t&&t.type.startsWith("image/")){const l=URL.createObjectURL(t);v(l),C(t)}},M=r=>{if(!u||!g.current)return;const t=new Image;t.crossOrigin="Anonymous",t.onload=()=>{const a=g.current;if(!a)return;const l=a.getContext("2d");if(!l)return;a.width=t.width,a.height=t.height,l.drawImage(t,0,0);const s=r.currentTarget.getBoundingClientRect(),n=t.width/t.height,d=s.width/s.height;let o=s.width,h=s.height,m=0,i=0;n>d?(h=s.width/n,i=(s.height-h)/2):(o=s.height*n,m=(s.width-o)/2);const b=r.clientX-s.left-m,j=r.clientY-s.top-i;if(b<0||b>o||j<0||j>h)return;const L=Math.floor(b*(t.width/o)),U=Math.floor(j*(t.height/h)),X=l.getImageData(L,U,1,1),[T,E,A]=X.data;N(`rgb(${T}, ${E}, ${A})`)},t.src=u},w=r=>{const t=r.match(/\d+/g);if(!t)return"";const a=parseInt(t[0]).toString(16).padStart(2,"0"),l=parseInt(t[1]).toString(16).padStart(2,"0"),s=parseInt(t[2]).toString(16).padStart(2,"0");return`#${a}${l}${s}`},y=r=>{const t=r.match(/\d+/g);if(!t)return"";let a=parseInt(t[0])/255,l=parseInt(t[1])/255,s=parseInt(t[2])/255;const n=Math.max(a,l,s),d=Math.min(a,l,s);let o=0,h=0,m=(n+d)/2;if(n!==d){const i=n-d;switch(h=m>.5?i/(2-n-d):i/(n+d),n){case a:o=((l-s)/i+(l<s?6:0))/6;break;case l:o=((s-a)/i+2)/6;break;case s:o=((a-l)/i+4)/6;break}}return`hsl(${Math.round(o*360)}, ${Math.round(h*100)}%, ${Math.round(m*100)}%)`},S=()=>c?p==="hex"?w(c):p==="hsl"?y(c):c:"",H=()=>{const r=S();r&&(navigator.clipboard.writeText(r),k(!0),setTimeout(()=>k(!1),2e3))},F=()=>{C(null),v(null),N(null),f.current&&(f.current.value="")};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:$,className:"hidden"}),e.jsx("div",{className:"flex items-center justify-center p-8 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl hover:border-blue-500 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Y,{className:"w-12 h-12 mx-auto mb-4 text-slate-400"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Click to upload image or drag and drop"})]})})]})}),u&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 flex items-center space-x-2",children:[e.jsx(G,{className:"w-4 h-4"}),e.jsx("span",{children:"Click anywhere on the image to pick a color"})]})}),e.jsx("div",{className:"relative",children:e.jsx("img",{src:u,alt:"Color picker",onClick:M,className:"w-full max-h-96 object-contain rounded-xl border border-slate-200 dark:border-slate-700 cursor-crosshair"})}),c&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl border-2 border-slate-300 dark:border-slate-600",style:{backgroundColor:c}}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs("select",{value:p,onChange:r=>I(r.target.value),className:"input-field text-sm",children:[e.jsx("option",{value:"hex",children:"HEX"}),e.jsx("option",{value:"rgb",children:"RGB"}),e.jsx("option",{value:"hsl",children:"HSL"})]}),e.jsxs("button",{onClick:H,className:"btn-secondary text-sm flex items-center space-x-2",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:R?"Copied!":"Copy"})]})]}),e.jsx("div",{className:"font-mono text-lg font-semibold text-slate-900 dark:text-slate-100",children:S()})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-slate-600 dark:text-slate-400 mb-1",children:"HEX"}),e.jsx("div",{className:"font-mono font-semibold",children:w(c)})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-slate-600 dark:text-slate-400 mb-1",children:"RGB"}),e.jsx("div",{className:"font-mono font-semibold",children:c})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-slate-600 dark:text-slate-400 mb-1",children:"HSL"}),e.jsx("div",{className:"font-mono font-semibold",children:y(c)})]})]}),e.jsxs("button",{onClick:F,className:"btn-secondary flex items-center space-x-2",children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{children:"Clear"})]})]})]}),e.jsx("canvas",{ref:g,className:"hidden"})]})}export{q as default};
