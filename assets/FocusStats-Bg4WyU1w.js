import{r as c,j as e}from"./index-DrWj1tgA.js";import{P as f}from"./plus-DPTEUXD6.js";import{T as y}from"./trending-up-CZ5q9nyq.js";import{T as S}from"./trash-2-DTZrw6Iv.js";function M(){const[a,o]=c.useState(()=>{const t=localStorage.getItem("focusSessions");return t?JSON.parse(t):[]}),[l,r]=c.useState({duration:25,category:"work",notes:""}),i=t=>{localStorage.setItem("focusSessions",JSON.stringify(t))},x=()=>{const t={id:Date.now().toString(),duration:l.duration,date:new Date().toISOString().split("T")[0],category:l.category,notes:l.notes},s=[...a,t];o(s),i(s),r({duration:25,category:"work",notes:""})},m=t=>{const s=a.filter(k=>k.id!==t);o(s),i(s)},u=new Date().toISOString().split("T")[0],d=new Date;d.setDate(d.getDate()-7);const h=d.toISOString().split("T")[0],g=a.filter(t=>t.date===u),p=a.filter(t=>t.date>=h),j=g.reduce((t,s)=>t+s.duration,0),b=p.reduce((t,s)=>t+s.duration,0),v=a.reduce((t,s)=>t+s.duration,0),n=a.reduce((t,s)=>(t[s.category]=(t[s.category]||0)+s.duration,t),{}),N=Object.entries(n).sort((t,s)=>s[1]-t[1])[0];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:j}),e.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"Today (min)"})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900 p-4 rounded-lg text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[Math.round(b/60),"h"]}),e.jsx("div",{className:"text-xs text-purple-700 dark:text-purple-300 mt-1",children:"This Week"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900 p-4 rounded-lg text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[Math.round(v/60),"h"]}),e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"Total"})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:a.length}),e.jsx("div",{className:"text-xs text-orange-700 dark:text-orange-300 mt-1",children:"Sessions"})]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Log Focus Session"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Duration (minutes)"}),e.jsx("input",{type:"number",min:"5",step:"5",value:l.duration,onChange:t=>r({...l,duration:Math.max(5,Number(t.target.value))}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category"}),e.jsxs("select",{value:l.category,onChange:t=>r({...l,category:t.target.value}),className:"input-field",children:[e.jsx("option",{value:"work",children:"Work"}),e.jsx("option",{value:"study",children:"Study"}),e.jsx("option",{value:"creative",children:"Creative"}),e.jsx("option",{value:"personal",children:"Personal"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notes"}),e.jsx("input",{type:"text",value:l.notes,onChange:t=>r({...l,notes:t.target.value}),placeholder:"What did you work on?",className:"input-field"})]}),e.jsxs("button",{onClick:x,className:"btn-primary w-full",children:[e.jsx(f,{className:"w-4 h-4"})," Log Session"]})]}),N&&e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-3 flex items-center gap-2",children:[e.jsx(y,{className:"w-5 h-5"}),"Focus by Category"]}),e.jsx("div",{className:"space-y-2",children:Object.entries(n).sort((t,s)=>s[1]-t[1]).map(([t,s])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:t.charAt(0).toUpperCase()+t.slice(1)}),e.jsxs("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:[Math.round(s/60),"h"]})]}),e.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${s/Math.max(...Object.values(n))*100}%`}})})]},t))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Recent Sessions"}),a.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No sessions logged yet"}):e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[...a].reverse().map(t=>e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:[t.duration," min - ",t.category]}),t.notes&&e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.notes}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(t.date).toLocaleDateString()})]}),e.jsx("button",{onClick:()=>m(t.id),className:"text-slate-400 hover:text-red-500",children:e.jsx(S,{className:"w-4 h-4"})})]},t.id))})]})]})}export{M as default};
