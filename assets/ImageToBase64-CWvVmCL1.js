import{r as a,j as e}from"./index-Ckx5g3CE.js";import{I as k}from"./image-DfkwIUvq.js";import{U as y}from"./upload-BeZbD1lf.js";import{D as R}from"./download-CBMF7h4P.js";import{C as L}from"./check-BPMUdwMC.js";import{C as D}from"./copy-D3GgtY91.js";function T(){const[r,d]=a.useState(null),[c,m]=a.useState(null),[n,x]=a.useState(""),[u,f]=a.useState(!0),[b,h]=a.useState(!1),i=a.useRef(null),N=l=>{var s;const t=(s=l.target.files)==null?void 0:s[0];if(t&&t.type.startsWith("image/")){d(t),m(URL.createObjectURL(t));const p=new FileReader;p.onload=w=>{var j;const C=(j=w.target)==null?void 0:j.result;x(C)},p.readAsDataURL(t)}},o=()=>n?u?n:n.split(",")[1]||"":"",g=async()=>{await navigator.clipboard.writeText(o()),h(!0),setTimeout(()=>h(!1),2e3)},U=()=>{const l=new Blob([o()],{type:"text/plain"}),t=URL.createObjectURL(l),s=document.createElement("a");s.href=t,s.download="image_base64.txt",s.click(),URL.revokeObjectURL(t)},v=()=>{d(null),c&&URL.revokeObjectURL(c),m(null),x(""),i.current&&(i.current.value="")};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(k,{className:"w-6 h-6 text-purple-500"}),"Image to Base64"]}),e.jsxs("label",{className:"cursor-pointer block mb-4",children:[e.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:N,className:"hidden"}),e.jsx("div",{className:"flex items-center justify-center p-8 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl hover:border-purple-500 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{className:"w-12 h-12 mx-auto mb-4 text-slate-400"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:r?r.name:"Click to upload image"}),r&&e.jsxs("p",{className:"text-sm text-slate-500",children:[(r.size/1024).toFixed(1)," KB"]})]})})]}),c&&e.jsx("div",{className:"mb-4 text-center",children:e.jsx("img",{src:c,alt:"Preview",className:"max-h-40 mx-auto rounded border"})}),n&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("input",{type:"checkbox",id:"includeDataUrl",checked:u,onChange:l=>f(l.target.checked),className:"rounded"}),e.jsx("label",{htmlFor:"includeDataUrl",className:"text-sm",children:"Include data URL prefix (data:image/...)"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"font-medium",children:"Base64 Output"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:U,className:"btn-secondary p-2",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("button",{onClick:g,className:"btn-secondary p-2",children:b?e.jsx(L,{className:"w-4 h-4 text-green-500"}):e.jsx(D,{className:"w-4 h-4"})})]})]}),e.jsx("textarea",{value:o(),readOnly:!0,className:"input-field h-32 font-mono text-xs"}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[o().length.toLocaleString()," characters"]})]}),e.jsx("button",{onClick:v,className:"btn-secondary w-full mt-4",children:"Clear"})]})]})})}export{T as default};
