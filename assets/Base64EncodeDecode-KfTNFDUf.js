import{r as n,j as e}from"./index-Ckx5g3CE.js";import{U as E}from"./upload-BeZbD1lf.js";import{A as R}from"./arrow-left-right-CQ6pigsr.js";import{D as B}from"./download-CBMF7h4P.js";import{C as D}from"./check-BPMUdwMC.js";import{C as L}from"./copy-D3GgtY91.js";function P(){const[x,m]=n.useState(""),[d,r]=n.useState(""),[o,u]=n.useState("encode"),[i,p]=n.useState("text"),[h,b]=n.useState(!1),[f,c]=n.useState(""),[g,j]=n.useState(""),N=n.useRef(null),k=a=>{const s=new TextEncoder().encode(a);let t="";return s.forEach(l=>t+=String.fromCharCode(l)),btoa(t)},y=a=>{const s=atob(a),t=new Uint8Array(s.length);for(let l=0;l<s.length;l++)t[l]=s.charCodeAt(l);return new TextDecoder().decode(t)},w=()=>{if(c(""),!x.trim()){c("Please enter some input");return}try{if(o==="encode")r(k(x));else{const a=x.replace(/\s/g,"");r(y(a))}}catch{c(`Error: ${o==="decode"?"Invalid Base64 string":"Could not encode input"}`),r("")}},C=a=>{var l;const s=(l=a.target.files)==null?void 0:l[0];if(!s)return;j(s.name);const t=new FileReader;o==="encode"?(t.onload=()=>{const U=t.result.split(",")[1]||"";r(U)},t.readAsDataURL(s)):(t.onload=()=>{m(t.result)},t.readAsText(s))},v=async()=>{await navigator.clipboard.writeText(d),b(!0),setTimeout(()=>b(!1),2e3)},T=()=>{const a=new Blob([d],{type:"text/plain"}),s=URL.createObjectURL(a),t=document.createElement("a");t.href=s,t.download=o==="encode"?"encoded.txt":"decoded.txt",t.click(),URL.revokeObjectURL(s)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{u("encode"),r(""),c("")},className:`flex-1 py-3 rounded-xl font-semibold transition-colors ${o==="encode"?"bg-blue-500 text-white":"bg-white/50 dark:bg-slate-700/50 text-slate-700 dark:text-slate-300"}`,children:"ðŸ”’ Encode"}),e.jsx("button",{onClick:()=>{u("decode"),r(""),c("")},className:`flex-1 py-3 rounded-xl font-semibold transition-colors ${o==="decode"?"bg-green-500 text-white":"bg-white/50 dark:bg-slate-700/50 text-slate-700 dark:text-slate-300"}`,children:"ðŸ”“ Decode"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p("text"),className:`px-4 py-2 rounded-lg text-sm ${i==="text"?"bg-slate-200 dark:bg-slate-700":"bg-slate-100 dark:bg-slate-800"}`,children:"ðŸ“ Text"}),e.jsx("button",{onClick:()=>p("file"),className:`px-4 py-2 rounded-lg text-sm ${i==="file"?"bg-slate-200 dark:bg-slate-700":"bg-slate-100 dark:bg-slate-800"}`,children:"ðŸ“ File"})]}),i==="text"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:o==="encode"?"Text to Encode":"Base64 to Decode"}),e.jsx("textarea",{value:x,onChange:a=>{m(a.target.value),c("")},placeholder:o==="encode"?"Enter text to encode (supports Unicode)...":"Paste Base64 string here...",className:"w-full h-32 input-field font-mono text-sm"})]}),i==="file"&&e.jsxs("label",{className:"cursor-pointer block",children:[e.jsx("input",{ref:N,type:"file",onChange:C,className:"hidden"}),e.jsx("div",{className:"flex items-center justify-center p-6 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl hover:border-blue-500 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx(E,{className:"w-8 h-8 mx-auto mb-2 text-slate-400"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:g||(o==="encode"?"Upload file to encode":"Upload Base64 file")})]})})]}),i==="text"&&e.jsxs("button",{onClick:w,className:"btn-primary w-full flex items-center justify-center gap-2",children:[e.jsx(R,{className:"w-5 h-5"}),o==="encode"?"Encode to Base64":"Decode from Base64"]}),f&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 p-4 rounded-xl text-sm",children:f}),d&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Output"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:T,className:"btn-secondary p-2",title:"Download",children:e.jsx(B,{className:"w-5 h-5"})}),e.jsx("button",{onClick:v,className:"btn-secondary p-2",title:"Copy",children:h?e.jsx(D,{className:"w-5 h-5 text-green-500"}):e.jsx(L,{className:"w-5 h-5"})})]})]}),e.jsx("textarea",{value:d,readOnly:!0,className:"w-full h-32 input-field font-mono text-sm"}),e.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[d.length.toLocaleString()," characters"]})]}),e.jsxs("div",{className:"text-sm text-slate-500 bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl",children:[e.jsx("strong",{children:"ðŸ’¡ Tip:"})," This encoder supports Unicode (emoji, non-Latin characters). For files, images are encoded as data URLs."]})]})}export{P as default};
