import{c as U,r,j as t}from"./index-DqXMfBpZ.js";import{A as Q}from"./alert-circle-B7aAIleE.js";import{P as V}from"./plus-DXsQ2qju.js";import{D as A}from"./download-DfWGAFzS.js";import{C as W}from"./calendar-vc0H8C7r.js";import{T as Y}from"./tag-CyHBkpyK.js";import{T as Z}from"./trash-2-BVmSqRQv.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=U("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=U("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function ne(){const[a,p]=r.useState(()=>{const e=localStorage.getItem("todos");return e?JSON.parse(e):[]}),[h,k]=r.useState(""),[N,v]=r.useState(""),[y,w]=r.useState("medium"),[T,C]=r.useState(""),[u,g]=r.useState(""),[d,b]=r.useState([]),[m,E]=r.useState("all"),[o,S]=r.useState(null),[f,j]=r.useState(null);r.useEffect(()=>{localStorage.setItem("todos",JSON.stringify(a))},[a]),r.useEffect(()=>{if(o){const e=setTimeout(()=>S(null),3e3);return()=>clearTimeout(e)}},[o]);const i=(e,s)=>{S({type:e,message:s})},I=e=>{if(e.preventDefault(),!h.trim()){i("error","Please enter a task title");return}const s={id:Date.now().toString(),title:h.trim(),description:N.trim(),completed:!1,priority:y,dueDate:T,tags:d,createdAt:new Date().toISOString()};p([s,...a]),k(""),v(""),w("medium"),C(""),b([]),g(""),i("success","Task added successfully!")},D=()=>{u.trim()&&!d.includes(u.trim())&&(b([...d,u.trim()]),g(""))},J=e=>{b(d.filter(s=>s!==e))},P=e=>{p(a.map(s=>{if(s.id===e){const n=!s.completed;return n&&i("success","Task completed! ðŸŽ‰"),{...s,completed:n}}return s}))},z=e=>{f===e?(p(a.filter(s=>s.id!==e)),j(null),i("success","Task deleted")):(j(e),setTimeout(()=>j(null),3e3))},X=()=>{const e=a.filter(s=>s.completed).length;e>0&&(p(a.filter(s=>!s.completed)),i("success",`Cleared ${e} completed task${e>1?"s":""}`))},B=()=>{const e=JSON.stringify(a,null,2),s=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(s),c=document.createElement("a");c.href=n,c.download=`todos-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(n),i("success","Tasks exported to JSON!")},F=()=>{const e=a.map(l=>{const K=l.completed?"âœ“":"â—‹",M=`[${l.priority.toUpperCase()}]`,q=l.dueDate?` (Due: ${new Date(l.dueDate).toLocaleDateString()})`:"",G=l.tags.length>0?` #${l.tags.join(" #")}`:"";let O=`${K} ${M} ${l.title}${q}${G}`;return l.description&&(O+=`
   ${l.description}`),O}).join(`

`),s=`=== Todo List Export ===
${new Date().toLocaleString()}
${"=".repeat(25)}

`,n=`

--- Stats ---
Total: ${a.length} | Active: ${a.filter(l=>!l.completed).length} | Completed: ${a.filter(l=>l.completed).length}`,c=new Blob([s+e+n],{type:"text/plain"}),L=URL.createObjectURL(c),x=document.createElement("a");x.href=L,x.download=`todos-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(L),i("success","Tasks exported to TXT!")},$=a.filter(e=>m==="active"?!e.completed:m==="completed"?e.completed:!0),H={low:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-100",medium:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-100",high:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-100"};return t.jsxs("div",{className:"space-y-6",children:[o&&t.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in ${o.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[o.type==="success"?t.jsx(R,{className:"w-5 h-5"}):t.jsx(Q,{className:"w-5 h-5"}),o.message]}),t.jsxs("form",{onSubmit:I,className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Task Title *"}),t.jsx("input",{type:"text",value:h,onChange:e=>k(e.target.value),placeholder:"Add a new task...",className:"input-field"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description"}),t.jsx("textarea",{value:N,onChange:e=>v(e.target.value),placeholder:"Add details about this task...",className:"input-field resize-none h-20"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Priority"}),t.jsxs("select",{value:y,onChange:e=>w(e.target.value),className:"input-field",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Due Date"}),t.jsx("input",{type:"date",value:T,onChange:e=>C(e.target.value),className:"input-field"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tags"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:u,onChange:e=>g(e.target.value),onKeyPress:e=>{e.key==="Enter"&&(e.preventDefault(),D())},placeholder:"Add tag and press Enter...",className:"input-field flex-1"}),t.jsx("button",{type:"button",onClick:D,className:"btn-primary",children:"Add"})]}),d.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.map(e=>t.jsxs("span",{className:"inline-flex items-center gap-1 bg-slate-200 dark:bg-slate-700 px-3 py-1 rounded-full text-sm",children:[e,t.jsx("button",{type:"button",onClick:()=>J(e),className:"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100",children:"Ã—"})]},e))})]}),t.jsxs("button",{type:"submit",className:"btn-primary w-full",children:[t.jsx(V,{className:"w-4 h-4"})," Add Task"]})]}),t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[t.jsx("div",{className:"flex gap-2",children:["all","active","completed"].map(e=>t.jsxs("button",{onClick:()=>E(e),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m===e?"bg-blue-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:[e.charAt(0).toUpperCase()+e.slice(1)," ","(",a.filter(s=>e==="active"?!s.completed:e==="completed"?s.completed:!0).length,")"]},e))}),t.jsxs("div",{className:"flex gap-2",children:[a.some(e=>e.completed)&&t.jsx("button",{onClick:X,className:"btn-secondary text-sm",children:"Clear Completed"}),a.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:B,className:"btn-secondary text-sm flex items-center gap-1",children:[t.jsx(A,{className:"w-4 h-4"})," JSON"]}),t.jsxs("button",{onClick:F,className:"btn-secondary text-sm flex items-center gap-1",children:[t.jsx(A,{className:"w-4 h-4"})," TXT"]})]})]})]}),t.jsx("div",{className:"space-y-2",children:$.length===0?t.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:m==="all"?"No tasks yet. Add one to get started!":`No ${m} tasks.`}):$.map(e=>t.jsx("div",{className:`p-4 border rounded-lg transition-colors ${e.completed?"bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700":"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("button",{onClick:()=>P(e.id),className:"mt-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors",children:e.completed?t.jsx(R,{className:"w-6 h-6 text-green-500"}):t.jsx(_,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h3",{className:`font-semibold ${e.completed?"line-through text-slate-500 dark:text-slate-400":"text-slate-900 dark:text-slate-100"}`,children:e.title}),t.jsx("span",{className:`text-xs px-2 py-1 rounded ${H[e.priority]}`,children:e.priority})]}),e.description&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:e.description}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-500 dark:text-slate-400",children:[e.dueDate&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(W,{className:"w-4 h-4"}),new Date(e.dueDate).toLocaleDateString()]}),e.tags.length>0&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Y,{className:"w-4 h-4"}),e.tags.join(", ")]})]})]}),t.jsx("button",{onClick:()=>z(e.id),className:`transition-colors ${f===e.id?"text-red-600 dark:text-red-400 animate-pulse":"text-slate-400 hover:text-red-500"}`,title:f===e.id?"Click again to confirm delete":"Delete task",children:t.jsx(Z,{className:"w-5 h-5"})})]})},e.id))}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:a.length}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Tasks"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-500",children:a.filter(e=>e.completed).length}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Completed"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-500",children:a.filter(e=>!e.completed).length}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Remaining"})]})]})]})}export{ne as default};
