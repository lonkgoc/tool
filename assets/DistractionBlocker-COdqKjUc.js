import{r as a,j as e}from"./index-DrWj1tgA.js";import{C as G}from"./coffee-CrxHnE1c.js";import{T as O}from"./target-DhbzU_Tk.js";import{S as w}from"./shield-lxA9yzK9.js";import{P as y}from"./play-QS35GPs2.js";import{P as Y}from"./pause-DByj3rES.js";import{P as q}from"./plus-DPTEUXD6.js";import{T as Q}from"./trash-2-DTZrw6Iv.js";import{C as Z}from"./clock-CU5sI-em.js";function _(){const[c,N]=a.useState(()=>{const t=localStorage.getItem("blockedSites");return t?JSON.parse(t):[]}),[f,p]=a.useState(""),[n,A]=a.useState(25),[g,T]=a.useState(5),[i,u]=a.useState(0),[r,d]=a.useState(!1),[m,h]=a.useState(!1),[o,b]=a.useState(()=>{const t=localStorage.getItem("focusSessions");return t?JSON.parse(t):[]}),[x,j]=a.useState(null);a.useEffect(()=>{localStorage.setItem("blockedSites",JSON.stringify(c))},[c]),a.useEffect(()=>{localStorage.setItem("focusSessions",JSON.stringify(o))},[o]),a.useEffect(()=>{let t=null;if(r&&i>0)t=setInterval(()=>{u(s=>s-1)},1e3);else if(r&&i===0){if(x&&!m){const s={...x,endTime:Date.now(),duration:n*60,completed:!0};b(l=>[...l,s]),j(null)}try{const s=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+A");s.volume=.5,s.play().catch(()=>{})}catch{}m?(h(!1),d(!1)):(h(!0),u(g*60))}return()=>{t&&clearInterval(t)}},[r,i,m,x,n,g]);const B=()=>{const t={id:Date.now().toString(),startTime:Date.now(),endTime:null,duration:0,completed:!1};j(t),u(n*60),d(!0),h(!1)},C=()=>{d(!1)},D=()=>{d(!0)},F=()=>{if(x){const t=n*60-i;if(t>60){const s={...x,endTime:Date.now(),duration:t,completed:!1};b(l=>[...l,s])}}d(!1),h(!1),u(0),j(null)},S=()=>{if(!f.trim())return;let t=f.trim().toLowerCase();if(t=t.replace(/^https?:\/\//,"").replace(/^www\./,"").split("/")[0],c.some(l=>l.url===t)){p("");return}const s={id:Date.now().toString(),url:t,addedAt:Date.now()};N(l=>[...l,s]),p("")},E=t=>{N(s=>s.filter(l=>l.id!==t))},I=t=>{const s=Math.floor(t/60),l=t%60;return`${s.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`},M=o.reduce((t,s)=>t+s.duration,0),P=o.filter(t=>t.completed).length,k=o.filter(t=>new Date(t.startTime).toDateString()===new Date().toDateString()),R=k.reduce((t,s)=>t+s.duration,0),v=["Stay focused! You've got this! ðŸ’ª","Deep work leads to great results! ðŸŽ¯","Every minute of focus counts! â±ï¸","You're building something amazing! ðŸš€","Stay in the zone! ðŸ”¥"],[J]=a.useState(v[Math.floor(Math.random()*v.length)]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card text-center",children:[e.jsxs("div",{className:"mb-6",children:[m?e.jsx(G,{className:"w-16 h-16 mx-auto text-green-500 mb-2"}):r?e.jsx(O,{className:"w-16 h-16 mx-auto text-blue-500 mb-2 animate-pulse"}):e.jsx(w,{className:"w-16 h-16 mx-auto text-slate-400 mb-2"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:m?"Break Time!":r?"Focus Mode":"Ready to Focus?"}),r&&e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:J})]}),e.jsx("div",{className:"text-6xl font-mono font-bold text-slate-900 dark:text-slate-100 mb-6",children:I(i||n*60)}),!r&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Focus (min)"}),e.jsx("input",{type:"number",min:"1",max:"120",value:n,onChange:t=>A(Number(t.target.value)),className:"input-field text-center"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Break (min)"}),e.jsx("input",{type:"number",min:"1",max:"30",value:g,onChange:t=>T(Number(t.target.value)),className:"input-field text-center"})]})]}),e.jsxs("div",{className:"flex justify-center gap-3",children:[!r&&i===0&&e.jsxs("button",{onClick:B,className:"btn-primary flex items-center gap-2",children:[e.jsx(y,{className:"w-5 h-5"}),"Start Focus Session"]}),r&&e.jsxs("button",{onClick:C,className:"btn-secondary flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5"}),"Pause"]}),!r&&i>0&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:D,className:"btn-primary flex items-center gap-2",children:[e.jsx(y,{className:"w-5 h-5"}),"Resume"]}),e.jsx("button",{onClick:F,className:"btn-secondary",children:"Stop"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5"}),"Blocked Sites (Reminder List)"]}),e.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Keep track of distracting websites to avoid during focus sessions. (Browser extensions required for actual blocking)"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",value:f,onChange:t=>p(t.target.value),onKeyDown:t=>t.key==="Enter"&&S(),placeholder:"e.g., twitter.com, reddit.com",className:"input-field flex-1"}),e.jsx("button",{onClick:S,className:"btn-primary",children:e.jsx(q,{className:"w-5 h-5"})})]}),c.length>0?e.jsx("ul",{className:"space-y-2",children:c.map(t=>e.jsxs("li",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:t.url}),e.jsx("button",{onClick:()=>E(t.id),className:"text-red-500 hover:text-red-700",children:e.jsx(Q,{className:"w-4 h-4"})})]},t.id))}):e.jsx("p",{className:"text-center text-slate-400 py-4",children:"No sites in your block list yet"})]}),e.jsxs("div",{className:"card",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5"}),"Focus Statistics"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Sessions"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.floor(M/60),"m"]}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Focus"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:k.length}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Today's Sessions"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 dark:bg-orange-900/20 rounded-xl",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.floor(R/60),"m"]}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Today's Focus"})]})]}),o.length>0&&e.jsx("button",{onClick:()=>{confirm("Clear all session history?")&&b([])},className:"mt-4 text-sm text-red-500 hover:text-red-700",children:"Clear History"})]}),e.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4",children:[e.jsx("p",{className:"font-medium mb-2",children:"How to use:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Set your focus and break durations"}),e.jsx("li",{children:"Add distracting websites to your reminder list"}),e.jsx("li",{children:"Start a focus session and work without distractions"}),e.jsx("li",{children:"Take breaks when the timer indicates"}),e.jsx("li",{children:"Track your productivity with session statistics"})]})]})]})}export{_ as default};
