import{r as o,j as e}from"./index-Ckx5g3CE.js";import{A as D}from"./alert-circle-CwdPxsKy.js";import{C as v}from"./check-BPMUdwMC.js";import{C as N}from"./copy-D3GgtY91.js";import{D as y}from"./download-CBMF7h4P.js";function R(){const[m,C]=o.useState(""),[n,x]=o.useState(""),[i,b]=o.useState(""),[f,p]=o.useState(""),[c,g]=o.useState(""),[j,L]=o.useState(2),M=(t,a)=>{try{if(new DOMParser().parseFromString(t,"application/xml").getElementsByTagName("parsererror").length>0)throw new Error("Invalid XML");const r=" ".repeat(a);let d="",l=0;const X=t.replace(/></g,`>
<`).split(`
`).map(s=>s.trim()).filter(s=>s.length>0);for(const s of X)s.startsWith("</")?(l=Math.max(0,l-1),d+=r.repeat(l)+s+`
`):s.endsWith("/>")||s.startsWith("<?")||s.startsWith("<!")?d+=r.repeat(l)+s+`
`:s.startsWith("<")?(d+=r.repeat(l)+s+`
`,!s.startsWith("<?")&&!s.startsWith("<!")&&l++):d+=r.repeat(l)+s+`
`;return d}catch{throw new Error("Invalid XML format")}},S=()=>{if(p(""),!m.trim()){p("Please enter XML to format"),x(""),b("");return}try{const t=M(m,j);x(t);const a=t.replace(/\n\s*/g,"").trim();b(a)}catch(t){p(t.message||"Invalid XML format"),x(""),b("")}},k=(t,a)=>{navigator.clipboard.writeText(t),g(a),setTimeout(()=>g(""),2e3)},w=(t,a)=>{const h=new Blob([t],{type:"application/xml"}),u=URL.createObjectURL(h),r=document.createElement("a");r.href=u,r.download=a,r.click(),URL.revokeObjectURL(u)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm border border-slate-200 dark:border-slate-700 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"XML Input"}),e.jsx("textarea",{value:m,onChange:t=>C(t.target.value),placeholder:"Paste your XML here...",className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-slate-700 dark:text-white font-mono text-sm h-48"})]}),e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Indent Size"}),e.jsxs("select",{value:j,onChange:t=>L(Number(t.target.value)),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:2,children:"2 spaces"}),e.jsx("option",{value:4,children:"4 spaces"}),e.jsx("option",{value:8,children:"8 spaces"}),e.jsx("option",{value:1,children:"1 space"})]})]}),e.jsx("button",{onClick:S,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Format"})]}),f&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 flex items-start gap-2",children:[e.jsx(D,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:f})]})]}),n&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm border border-slate-200 dark:border-slate-700 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Formatted XML"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>k(n,"formatted"),className:"px-4 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg transition-colors flex items-center gap-2 text-sm font-medium",children:[c==="formatted"?e.jsx(v,{className:"w-4 h-4"}):e.jsx(N,{className:"w-4 h-4"}),c==="formatted"?"Copied!":"Copy"]}),e.jsxs("button",{onClick:()=>w(n,"formatted.xml"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2 text-sm font-medium",children:[e.jsx(y,{className:"w-4 h-4"}),"Download"]})]})]}),e.jsx("textarea",{value:n,readOnly:!0,className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 dark:text-white font-mono text-sm h-96"})]}),i&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm border border-slate-200 dark:border-slate-700 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Minified XML"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>k(i,"minified"),className:"px-4 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg transition-colors flex items-center gap-2 text-sm font-medium",children:[c==="minified"?e.jsx(v,{className:"w-4 h-4"}):e.jsx(N,{className:"w-4 h-4"}),c==="minified"?"Copied!":"Copy"]}),e.jsxs("button",{onClick:()=>w(i,"minified.xml"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2 text-sm font-medium",children:[e.jsx(y,{className:"w-4 h-4"}),"Download"]})]})]}),e.jsx("textarea",{value:i,readOnly:!0,className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 dark:text-white font-mono text-sm h-32"})]})]})}export{R as default};
