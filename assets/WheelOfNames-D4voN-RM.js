import{r as n,j as e}from"./index-Ckx5g3CE.js";import{P as g}from"./plus-CQGEH8ka.js";import{T as j}from"./trash-2-BMd0ar08.js";import{R as v}from"./rotate-ccw-i_48qkDf.js";function C(){const[a,m]=n.useState(()=>{const t=localStorage.getItem("wheelNames");return t?JSON.parse(t):[]}),[o,x]=n.useState(""),[i,h]=n.useState(!1),[r,c]=n.useState(null),[u,f]=n.useState(0),b=()=>{if(o.trim()){const t=[...a,o.trim()];m(t),localStorage.setItem("wheelNames",JSON.stringify(t)),x("")}},N=()=>{if(a.length===0)return;h(!0),c(null);const t=5+Math.random()*5,s=Math.floor(Math.random()*a.length),l=u+t*360+s*(360/a.length);f(l),setTimeout(()=>{c(a[s]),h(!1)},2e3)},p=t=>{const s=a.filter((l,d)=>d!==t);m(s),localStorage.setItem("wheelNames",JSON.stringify(s))};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Wheel of Names"}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("input",{type:"text",value:o,onChange:t=>x(t.target.value),onKeyPress:t=>t.key==="Enter"&&b(),placeholder:"Add a name",className:"flex-1 input-field"}),e.jsx("button",{onClick:b,className:"btn-primary",children:e.jsx(g,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"space-y-2 mb-6",children:a.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[e.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:t}),e.jsx("button",{onClick:()=>p(s),className:"text-red-500",children:e.jsx(j,{className:"w-4 h-4"})})]},s))}),a.length>0&&e.jsxs("div",{className:"relative w-80 h-80 mx-auto mb-6",children:[e.jsx("div",{className:"w-full h-full rounded-full border-8 border-slate-300 dark:border-slate-600 relative overflow-hidden transition-transform duration-2000",style:{transform:`rotate(${u}deg)`,transition:i?"transform 2s cubic-bezier(0.17, 0.67, 0.12, 0.99)":"none"},children:a.map((t,s)=>{const l=360/a.length*s,d=r===t;return e.jsx("div",{className:`absolute w-1/2 h-1/2 origin-bottom-right ${d?"bg-blue-500":s%2===0?"bg-blue-400":"bg-blue-300"}`,style:{transform:`rotate(${l}deg)`,clipPath:"polygon(0 0, 100% 0, 50% 100%)"},children:e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 -rotate-90",style:{transformOrigin:"center",transform:`translate(-50%, -50%) rotate(${l+90}deg)`},children:e.jsx("span",{className:"text-white font-semibold text-sm",children:t})})},s)})}),e.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2",children:e.jsx("div",{className:"w-0 h-0 border-l-8 border-r-8 border-t-12 border-transparent border-t-blue-600"})})]}),r&&e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:r}),e.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Winner!"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:N,disabled:i||a.length===0,className:"btn-primary flex-1",children:i?"Spinning...":"Spin the Wheel"}),r&&e.jsx("button",{onClick:()=>c(null),className:"btn-secondary",children:e.jsx(v,{className:"w-5 h-5"})})]})]})})}export{C as default};
