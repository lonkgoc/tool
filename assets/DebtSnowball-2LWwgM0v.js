import{r as p,j as e}from"./index-DqXMfBpZ.js";import{C as E}from"./credit-card-ku75zBbB.js";import{D as M}from"./download-DfWGAFzS.js";import{P as T}from"./plus-DXsQ2qju.js";import{T as I}from"./trash-2-BVmSqRQv.js";import{T as O}from"./trending-down-tNMcBOti.js";function G(){const[n,j]=p.useState(()=>{const t=localStorage.getItem("debtSnowball");return t?JSON.parse(t).debts:[]}),[o,S]=p.useState(()=>{const t=localStorage.getItem("debtSnowball");return t?JSON.parse(t).extraPayment:200}),[c,y]=p.useState(()=>{const t=localStorage.getItem("debtSnowball");return t?JSON.parse(t).method:"snowball"}),[a,h]=p.useState({name:"",balance:"",minPayment:"",interestRate:""});p.useEffect(()=>{localStorage.setItem("debtSnowball",JSON.stringify({debts:n,extraPayment:o,method:c}))},[n,o,c]);const k=()=>{!a.name||!a.balance||!a.minPayment||(j([...n,{id:Date.now().toString(),name:a.name,balance:parseFloat(a.balance),minPayment:parseFloat(a.minPayment),interestRate:parseFloat(a.interestRate)||0}]),h({name:"",balance:"",minPayment:"",interestRate:""}))},D=t=>j(n.filter(s=>s.id!==t)),f=[...n].sort((t,s)=>c==="snowball"?t.balance-s.balance:s.interestRate-t.interestRate),R=()=>{if(n.length===0)return{months:0,totalPaid:0,interestPaid:0,schedule:[]};let t=f.map(x=>({...x,paid:0}));const s=[];let i=0,d=0,m=0,g=o;for(;t.some(x=>x.balance>0)&&i<360;){i++;const x=[];let F=g;t.forEach((r,A)=>{if(r.balance<=0)return;const P=r.balance*(r.interestRate/100/12);m+=P,r.balance+=P;let b=r.minPayment;A===0&&(b+=F),b=Math.min(b,r.balance),r.balance-=b,d+=b,x.push({name:r.name,payment:b,remaining:Math.max(0,r.balance)}),r.balance<=0&&(g+=r.minPayment)}),i<=24&&s.push({month:i,payments:x})}return{months:i,totalPaid:d,interestPaid:m,schedule:s}},{months:u,totalPaid:v,interestPaid:N,schedule:L}=R(),w=n.reduce((t,s)=>t+s.balance,0),$=n.reduce((t,s)=>t+s.minPayment,0),l=t=>"$"+t.toLocaleString(void 0,{maximumFractionDigits:0}),C=()=>{let t=`=== Debt ${c==="snowball"?"Snowball":"Avalanche"} Plan ===

`;t+=`Total Debt: ${l(w)}
`,t+=`Monthly Min Payments: ${l($)}
`,t+=`Extra Payment: ${l(o)}

`,t+=`=== Payoff Order ===
`,f.forEach((m,g)=>{t+=`${g+1}. ${m.name}: ${l(m.balance)} at ${m.interestRate}%
`}),t+=`
=== Results ===
`,t+=`Time to Debt Free: ${u} months (${(u/12).toFixed(1)} years)
`,t+=`Total Paid: ${l(v)}
`,t+=`Interest Paid: ${l(N)}
`;const s=new Blob([t],{type:"text/plain"}),i=URL.createObjectURL(s),d=document.createElement("a");d.href=i,d.download=`debt-${c}-plan.txt`,d.click(),URL.revokeObjectURL(i)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[e.jsx(E,{className:"w-6 h-6 text-red-500"}),"Debt Snowball/Avalanche"]}),n.length>0&&e.jsxs("button",{onClick:C,className:"btn-secondary text-sm flex items-center gap-1",children:[e.jsx(M,{className:"w-4 h-4"})," Export"]})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("button",{onClick:()=>y("snowball"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${c==="snowball"?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-800"}`,children:"â„ï¸ Snowball (Smallest First)"}),e.jsx("button",{onClick:()=>y("avalanche"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${c==="avalanche"?"bg-red-500 text-white":"bg-slate-100 dark:bg-slate-800"}`,children:"ðŸ”ï¸ Avalanche (Highest Rate First)"})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-xl mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Add Debt"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-3",children:[e.jsx("input",{type:"text",placeholder:"Debt name",value:a.name,onChange:t=>h({...a,name:t.target.value}),className:"input-field"}),e.jsx("input",{type:"number",placeholder:"Balance ($)",value:a.balance,onChange:t=>h({...a,balance:t.target.value}),className:"input-field"}),e.jsx("input",{type:"number",placeholder:"Min payment ($)",value:a.minPayment,onChange:t=>h({...a,minPayment:t.target.value}),className:"input-field"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Rate (%)",value:a.interestRate,onChange:t=>h({...a,interestRate:t.target.value}),className:"input-field flex-1"}),e.jsx("button",{onClick:k,className:"btn-primary px-3",children:e.jsx(T,{className:"w-5 h-5"})})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Extra Monthly Payment: ",l(o)]}),e.jsx("input",{type:"range",min:"0",max:"1000",step:"50",value:o,onChange:t=>S(parseInt(t.target.value)),className:"w-full"})]}),n.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-2 mb-6",children:f.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-blue-500 text-white flex items-center justify-center text-xs font-bold",children:s+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Min: ",l(t.minPayment),"/mo â€¢ ",t.interestRate,"% APR"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-bold text-red-600",children:l(t.balance)}),e.jsx("button",{onClick:()=>D(t.id),className:"text-red-400 hover:text-red-500",children:e.jsx(I,{className:"w-4 h-4"})})]})]},t.id))}),e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl p-6 text-white text-center",children:[e.jsx(O,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("div",{className:"text-sm opacity-80",children:"Debt Free In"}),e.jsx("div",{className:"text-5xl font-bold",children:u<12?`${u} months`:`${(u/12).toFixed(1)} years`}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 text-sm",children:[e.jsxs("div",{className:"bg-white/20 p-2 rounded-lg",children:[e.jsx("div",{className:"opacity-80",children:"Total Debt"}),e.jsx("div",{className:"font-bold",children:l(w)})]}),e.jsxs("div",{className:"bg-white/20 p-2 rounded-lg",children:[e.jsx("div",{className:"opacity-80",children:"Total Paid"}),e.jsx("div",{className:"font-bold",children:l(v)})]}),e.jsxs("div",{className:"bg-white/20 p-2 rounded-lg",children:[e.jsx("div",{className:"opacity-80",children:"Interest"}),e.jsx("div",{className:"font-bold",children:l(N)})]})]})]})]}),n.length===0&&e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Add your debts to see your payoff plan"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm text-blue-800 dark:text-blue-100",children:[e.jsx("strong",{children:"ðŸ’¡ Snowball vs Avalanche:"})," Snowball pays smallest debts first for quick wins. Avalanche pays highest interest first to save money. Both workâ€”pick what motivates you!"]})]})}export{G as default};
