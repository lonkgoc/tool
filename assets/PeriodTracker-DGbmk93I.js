import{r as o,j as e}from"./index-DrWj1tgA.js";function v(){const[s,i]=o.useState(()=>{const t=localStorage.getItem("periodTracker");return t?JSON.parse(t):[]}),[l,c]=o.useState(""),[n,x]=o.useState(""),g=()=>{if(!l||!n)return;const t={id:Date.now().toString(),startDate:l,endDate:n},a=[...s,t].sort((r,d)=>new Date(d.startDate).getTime()-new Date(r.startDate).getTime());i(a),localStorage.setItem("periodTracker",JSON.stringify(a)),c(""),x("")},m=t=>{const a=s.filter(r=>r.id!==t);i(a),localStorage.setItem("periodTracker",JSON.stringify(a))},h=s.length>1?Math.round(s.slice(0,3).reduce((t,a,r,d)=>{if(r===0)return t;const u=new Date(d[r-1].startDate),b=new Date(a.startDate);return t+Math.floor((u.getTime()-b.getTime())/(24*60*60*1e3))},0)/Math.min(2,s.length-1)):28;return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Period Tracker"}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{children:["Start Date",e.jsx("input",{type:"date",value:l,onChange:t=>c(t.target.value),className:"input-field"})]}),e.jsxs("label",{children:["End Date",e.jsx("input",{type:"date",value:n,onChange:t=>x(t.target.value),className:"input-field"})]})]}),e.jsx("button",{onClick:g,className:"btn-primary w-full",children:"Log Period"})]}),s.length>0&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-pink-50 dark:from-rose-900 dark:to-pink-900 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Average Cycle"}),e.jsxs("div",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400",children:[h," days"]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Periods Logged"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:s.length})]})]}),s.length>0&&e.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 p-4",children:s.map(t=>{const a=new Date(t.startDate),r=new Date(t.endDate),d=Math.floor((r.getTime()-a.getTime())/(24*60*60*1e3))+1;return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-800 rounded",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-sm",children:[a.toLocaleDateString()," - ",r.toLocaleDateString()]}),e.jsxs("div",{className:"text-xs text-slate-500",children:[d," days"]})]}),e.jsx("button",{onClick:()=>m(t.id),className:"text-red-500 hover:text-red-700 text-sm",children:"âœ•"})]},t.id)})})})]})}export{v as default};
