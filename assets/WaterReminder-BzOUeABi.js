import{c as C,r,j as t}from"./index-Ckx5g3CE.js";import{T as D}from"./trophy-CrWzCgYl.js";import{P as O}from"./plus-CQGEH8ka.js";import{B as E}from"./bell-Dov9xKPU.js";import{B as $}from"./bell-off-DGvvwtFD.js";import{R as A}from"./rotate-ccw-i_48qkDf.js";import{D as G}from"./download-CBMF7h4P.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=C("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);function M(){const[n,y]=r.useState(()=>{const e=localStorage.getItem("waterGoal");return e?Number(e):2e3}),[a,b]=r.useState(()=>{const e=new Date().toISOString().split("T")[0],s=localStorage.getItem("waterConsumed_"+e);return s?Number(s):0}),[l,N]=r.useState(()=>{const e=localStorage.getItem("waterReminderInterval");return e?Number(e):60}),[i,j]=r.useState(!1),[g,m]=r.useState(null),[c,p]=r.useState(()=>{const e=localStorage.getItem("waterHistory");return e?JSON.parse(e):[]});r.useEffect(()=>{localStorage.setItem("waterGoal",String(n))},[n]),r.useEffect(()=>{localStorage.setItem("waterReminderInterval",String(l))},[l]),r.useEffect(()=>{const e=new Date().toISOString().split("T")[0];localStorage.setItem("waterConsumed_"+e,String(a))},[a]),r.useEffect(()=>{localStorage.setItem("waterHistory",JSON.stringify(c))},[c]);const x=r.useCallback(()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),s=e.createOscillator(),o=e.createGain();s.frequency.value=440,s.type="sine",o.gain.setValueAtTime(.3,e.currentTime),o.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),s.connect(o),o.connect(e.destination),s.start(),s.stop(e.currentTime+.5)}catch{}},[]);r.useEffect(()=>{if(i&&l>0){const e=window.setInterval(()=>{x(),m("ðŸ’§ Time to drink water!"),setTimeout(()=>m(null),5e3),"Notification"in window&&Notification.permission==="granted"&&new Notification("Water Reminder",{body:`Time to drink water! You've consumed ${a}ml today.`})},l*60*1e3);return()=>clearInterval(e)}},[i,l,a,x]);const v=async()=>{"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()},u=e=>{m(e),setTimeout(()=>m(null),3e3)},k=e=>{const s=a+e;b(s),s>=n&&a<n?(x(),u("ðŸŽ‰ Daily goal achieved!")):u(`+${e}ml added!`)},S=()=>{const e=new Date().toISOString().split("T")[0];if(a>0){const s=c.find(o=>o.date===e);p(s?c.map(o=>o.date===e?{...o,amount:a}:o):[...c,{date:e,amount:a}])}b(0),u("Reset for today")},I=()=>{const e=new Date().toISOString().split("T")[0],s=[...c];!s.find(d=>d.date===e)&&a>0&&s.push({date:e,amount:a});const o=`Date,Amount (ml),Goal (ml),Percentage
`+s.map(d=>`${d.date},${d.amount},${n},${(d.amount/n*100).toFixed(1)}%`).join(`
`),T=new Blob([o],{type:"text/csv"}),w=URL.createObjectURL(T),f=document.createElement("a");f.href=w,f.download="water-history.csv",f.click(),URL.revokeObjectURL(w),u("History exported!")},h=Math.min(100,a/n*100),R=Math.floor(a/250);return t.jsxs("div",{className:"space-y-6",children:[g&&t.jsx("div",{className:"fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg bg-blue-500 text-white animate-fade-in",children:g}),t.jsxs("div",{className:"card bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[t.jsx(H,{className:"w-6 h-6 text-blue-500"}),"Water Reminder"]}),a>=n&&t.jsx(D,{className:"w-6 h-6 text-yellow-500 animate-bounce"})]}),t.jsxs("div",{className:"text-center py-6",children:[t.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[t.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",children:[t.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-slate-200 dark:text-slate-700"}),t.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-blue-500",strokeDasharray:`${h*3.52} 352`,strokeLinecap:"round"})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[h.toFixed(0),"%"]}),t.jsxs("div",{className:"text-xs text-slate-500",children:[R," glasses"]})]})})]}),t.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:[a,"ml / ",n,"ml"]})]}),t.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[150,250,500,750].map(e=>t.jsxs("button",{onClick:()=>k(e),className:"btn-secondary text-sm flex flex-col items-center py-2",children:[t.jsx(O,{className:"w-4 h-4"}),e,"ml"]},e))}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Daily Goal: ",n,"ml (",(n/250).toFixed(1)," glasses)"]}),t.jsx("input",{type:"range",min:"1000",max:"5000",step:"250",value:n,onChange:e=>y(Number(e.target.value)),className:"w-full"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Reminder: every ",l," min"]}),t.jsx("input",{type:"range",min:"15",max:"120",step:"15",value:l,onChange:e=>N(Number(e.target.value)),className:"w-full"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>{i||v(),j(!i)},className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg font-medium transition ${i?"bg-green-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,children:[i?t.jsx(E,{className:"w-5 h-5"}):t.jsx($,{className:"w-5 h-5"}),i?"Reminders On":"Reminders Off"]}),t.jsxs("button",{onClick:S,className:"btn-secondary flex items-center gap-1",children:[t.jsx(A,{className:"w-4 h-4"})," Reset"]}),t.jsxs("button",{onClick:I,className:"btn-secondary flex items-center gap-1",children:[t.jsx(G,{className:"w-4 h-4"})," Export"]})]})]}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm text-blue-800 dark:text-blue-100",children:[t.jsx("strong",{children:"ðŸ’¡ Tip:"})," Adults should drink 2-3 liters of water daily. Set reminders to stay hydrated throughout the day!"]})]})}export{M as default};
