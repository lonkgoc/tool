import{r as i,j as t,C as F}from"./index-Ckx5g3CE.js";import{C as T}from"./chevron-left-blafWH2v.js";function I(){const[s,g]=i.useState(new Date),[d,f]=i.useState(()=>{const e=localStorage.getItem("calendarEvents");return e?JSON.parse(e):{}}),[n,j]=i.useState(null),[u,x]=i.useState(""),m=e=>{localStorage.setItem("calendarEvents",JSON.stringify(e)),f(e)},b=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),N=e=>new Date(e.getFullYear(),e.getMonth(),1).getDay(),k=()=>{const e=b(s),l=N(s),r=b(new Date(s.getFullYear(),s.getMonth()-1)),o=[];for(let a=l-1;a>=0;a--)o.push({date:r-a,isCurrentMonth:!1,isToday:!1,events:[]});const c=new Date;for(let a=1;a<=e;a++){const p=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`,E=c.toISOString().split("T")[0]===p;o.push({date:a,isCurrentMonth:!0,isToday:E,events:d[p]||[]})}const h=42-o.length;for(let a=1;a<=h;a++)o.push({date:a,isCurrentMonth:!1,isToday:!1,events:[]});return o},v=()=>{if(!n||!u.trim())return;const e={...d};e[n]||(e[n]=[]),e[n].push(u.trim()),m(e),x("")},S=(e,l)=>{const r={...d};r[e]=r[e].filter((o,c)=>c!==l),r[e].length===0&&delete r[e],m(r)},D=()=>{g(new Date(s.getFullYear(),s.getMonth()-1))},y=()=>{g(new Date(s.getFullYear(),s.getMonth()+1))},M=e=>e.isCurrentMonth?`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(e.date).padStart(2,"0")}`:null,C=k(),w=s.toLocaleString("default",{month:"long",year:"numeric"});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("button",{onClick:D,className:"p-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700",children:t.jsx(T,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:w}),t.jsx("button",{onClick:y,className:"p-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700",children:t.jsx(F,{className:"w-6 h-6"})})]}),t.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>t.jsx("div",{className:"text-center font-semibold text-slate-700 dark:text-slate-300 py-2",children:e},e))}),t.jsx("div",{className:"grid grid-cols-7 gap-1 bg-slate-100 dark:bg-slate-800 p-2 rounded-lg",children:C.map((e,l)=>{const r=M(e),o=r===n;return t.jsxs("button",{onClick:()=>j(e.isCurrentMonth?r:null),className:`min-h-20 p-1 rounded text-sm transition-colors ${e.isCurrentMonth?e.isToday?"bg-blue-500 text-white font-bold":o?"bg-blue-300 dark:bg-blue-700":"bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 hover:bg-slate-50 dark:hover:bg-slate-800":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}`,children:[t.jsx("div",{className:"font-semibold",children:e.date}),e.isCurrentMonth&&e.events.length>0&&t.jsxs("div",{className:"text-xs mt-1 text-left",children:[e.events.slice(0,2).map((c,h)=>t.jsx("div",{className:"truncate text-blue-600 dark:text-blue-400",children:c},h)),e.events.length>2&&t.jsxs("div",{className:"text-blue-600 dark:text-blue-400",children:["+",e.events.length-2]})]})]},l)})}),n&&t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-800 rounded-lg p-4 space-y-4",children:[t.jsx("div",{children:t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:new Date(n).toLocaleDateString("default",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"text",value:u,onChange:e=>x(e.target.value),onKeyPress:e=>e.key==="Enter"&&v(),placeholder:"Add event...",className:"input-field"}),t.jsx("button",{onClick:v,className:"btn-primary w-full",children:"Add Event"})]}),t.jsx("div",{className:"space-y-2",children:d[n]&&d[n].length>0?d[n].map((e,l)=>t.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-slate-800 p-3 rounded border border-blue-200 dark:border-blue-700",children:[t.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:e}),t.jsx("button",{onClick:()=>S(n,l),className:"text-red-500 hover:text-red-600",children:"Ã—"})]},l)):t.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"No events"})})]})]})}export{I as default};
