import{r as p,j as t}from"./index-DqXMfBpZ.js";import{P as N}from"./plus-DXsQ2qju.js";import{T as j}from"./trash-2-BVmSqRQv.js";function O(){const[s,d]=p.useState(()=>{const e=localStorage.getItem("decisionMatrix");return e?JSON.parse(e):{criteria:[],options:[]}}),[x,h]=p.useState(""),[m,b]=p.useState(""),n=e=>{localStorage.setItem("decisionMatrix",JSON.stringify(e))},g=()=>{if(!x.trim())return;const e={...s,criteria:[...s.criteria,{id:Date.now().toString(),name:x.trim(),weight:1}]};d(e),n(e),h("")},u=()=>{if(!m.trim())return;const e={};s.criteria.forEach(a=>{e[a.id]=5});const r={...s,options:[...s.options,{id:Date.now().toString(),name:m.trim(),scores:e}]};d(r),n(r),b("")},k=(e,r)=>{const a={...s,criteria:s.criteria.map(i=>i.id===e?{...i,weight:r}:i)};d(a),n(a)},f=(e,r,a)=>{const i={...s,options:s.options.map(l=>l.id===e?{...l,scores:{...l.scores,[r]:a}}:l)};d(i),n(i)},v=e=>{const r={...s,criteria:s.criteria.filter(a=>a.id!==e),options:s.options.map(a=>{const i={...a.scores};return delete i[e],{...a,scores:i}})};d(r),n(r)},w=e=>{const r={...s,options:s.options.filter(a=>a.id!==e)};d(r),n(r)},o=e=>{let r=0,a=0;return s.criteria.forEach(i=>{const l=e.scores[i.id]||0;r+=l*i.weight,a+=i.weight}),a===0?0:Math.round(r/a*10)/10},c=s.options.length>0?s.options.reduce((e,r)=>o(r)>o(e)?r:e):null;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"Decision Matrix"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Compare options systematically"})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg space-y-3",children:[t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Add Criteria"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:x,onChange:e=>h(e.target.value),onKeyPress:e=>e.key==="Enter"&&g(),placeholder:"e.g., Cost, Quality, Speed...",className:"input-field flex-1"}),t.jsx("button",{onClick:g,className:"btn-primary",children:t.jsx(N,{className:"w-4 h-4"})})]})]}),s.criteria.length>0&&t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg space-y-3",children:[t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Criteria Weights"}),t.jsx("div",{className:"space-y-2",children:s.criteria.map(e=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-20 text-sm font-medium text-slate-700 dark:text-slate-300",children:e.name}),t.jsx("input",{type:"range",min:"0.5",max:"5",step:"0.5",value:e.weight,onChange:r=>k(e.id,Number(r.target.value)),className:"flex-1"}),t.jsx("span",{className:"w-10 text-sm font-semibold text-slate-900 dark:text-slate-100",children:e.weight.toFixed(1)}),t.jsx("button",{onClick:()=>v(e.id),className:"text-slate-400 hover:text-red-500",children:t.jsx(j,{className:"w-4 h-4"})})]},e.id))})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg space-y-3",children:[t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Add Option"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:m,onChange:e=>b(e.target.value),onKeyPress:e=>e.key==="Enter"&&u(),placeholder:"e.g., Option A, Option B...",className:"input-field flex-1"}),t.jsx("button",{onClick:u,className:"btn-primary",children:t.jsx(N,{className:"w-4 h-4"})})]})]}),s.criteria.length>0&&s.options.length>0&&t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse border border-slate-300 dark:border-slate-700",children:[t.jsx("thead",{className:"bg-slate-100 dark:bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"border border-slate-300 dark:border-slate-700 p-2 text-left font-semibold",children:"Option"}),s.criteria.map(e=>t.jsxs("th",{className:"border border-slate-300 dark:border-slate-700 p-2 text-center font-semibold text-sm",children:[e.name,t.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:["(w: ",e.weight.toFixed(1),")"]})]},e.id)),t.jsx("th",{className:"border border-slate-300 dark:border-slate-700 p-2 text-center font-semibold",children:"Score"}),t.jsx("th",{className:"border border-slate-300 dark:border-slate-700 p-2 text-center",children:"Action"})]})}),t.jsx("tbody",{children:s.options.map(e=>{const r=o(e),a=r===o(c);return t.jsxs("tr",{className:a?"bg-green-50 dark:bg-green-900":"bg-white dark:bg-slate-900",children:[t.jsxs("td",{className:"border border-slate-300 dark:border-slate-700 p-2 font-medium",children:[e.name,a&&t.jsx("span",{className:"ml-2 text-sm text-green-600 dark:text-green-400",children:"âœ“"})]}),s.criteria.map(i=>t.jsx("td",{className:"border border-slate-300 dark:border-slate-700 p-2 text-center",children:t.jsx("input",{type:"number",min:"1",max:"10",value:e.scores[i.id]||5,onChange:l=>f(e.id,i.id,Math.max(1,Math.min(10,Number(l.target.value)))),className:"w-12 text-center border border-slate-300 dark:border-slate-600 rounded px-1 py-1 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100"})},i.id)),t.jsx("td",{className:"border border-slate-300 dark:border-slate-700 p-2 text-center font-bold",children:r}),t.jsx("td",{className:"border border-slate-300 dark:border-slate-700 p-2 text-center",children:t.jsx("button",{onClick:()=>w(e.id),className:"text-slate-400 hover:text-red-500",children:t.jsx(j,{className:"w-4 h-4"})})})]},e.id)})})]})}),c&&t.jsxs("div",{className:"bg-green-50 dark:bg-green-900 border-2 border-green-300 dark:border-green-700 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100 mb-1",children:"Best Option"}),t.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:c.name}),t.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300 mt-2",children:["Score: ",o(c),"/10"]})]}),(s.criteria.length===0||s.options.length===0)&&t.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"Add criteria and options to build your decision matrix"})]})}export{O as default};
