import{r as g,j as e}from"./index-DqXMfBpZ.js";import{P as p}from"./plus-DXsQ2qju.js";import{T as y}from"./trending-up-BWy7LnF9.js";import{T as w}from"./trash-2-BVmSqRQv.js";function S(){const[l,o]=g.useState(()=>{const t=localStorage.getItem("personalKPIs");return t?JSON.parse(t):[]}),[h,m]=g.useState(!1),[s,r]=g.useState({name:"",target:100,unit:"%",category:"health",frequency:"daily"}),u=t=>{localStorage.setItem("personalKPIs",JSON.stringify(t))},j=()=>{if(!s.name.trim())return;const t={id:Date.now().toString(),name:s.name.trim(),target:s.target,current:0,unit:s.unit.trim(),category:s.category,frequency:s.frequency,entries:[]},a=[...l,t];o(a),u(a),r({name:"",target:100,unit:"%",category:"health",frequency:"daily"}),m(!1)},v=(t,a)=>{const n=l.map(d=>{if(d.id===t){const x=new Date().toISOString().split("T")[0],b=d.entries.filter(k=>k.date!==x);return b.push({date:x,value:a}),{...d,current:a,entries:b}}return d});o(n),u(n)},N=t=>{const a=l.filter(n=>n.id!==t);o(a),u(a)},i=t=>t.target===0?0:Math.round(t.current/t.target*100),f=[{value:"health",label:"ðŸ’ª Health"},{value:"finance",label:"ðŸ’° Finance"},{value:"productivity",label:"ðŸŽ¯ Productivity"},{value:"learning",label:"ðŸ“š Learning"},{value:"personal",label:"âœ¨ Personal"}],c={total:l.length,onTrack:l.filter(t=>i(t)>=80).length,needsWork:l.filter(t=>i(t)<50).length,average:l.length>0?Math.round(l.reduce((t,a)=>t+i(a),0)/l.length):0};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:c.total}),e.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:"KPIs"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:c.onTrack}),e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"On Track"})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:c.needsWork}),e.jsx("div",{className:"text-xs text-red-700 dark:text-red-300",children:"Needs Work"})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900 p-3 rounded-lg text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[c.average,"%"]}),e.jsx("div",{className:"text-xs text-purple-700 dark:text-purple-300",children:"Average"})]})]}),h&&e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Add New KPI"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"KPI Name"}),e.jsx("input",{type:"text",value:s.name,onChange:t=>r({...s,name:t.target.value}),placeholder:"e.g., Daily steps, Books read, Revenue",className:"input-field"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Target"}),e.jsx("input",{type:"number",value:s.target,onChange:t=>r({...s,target:Number(t.target.value)}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Unit"}),e.jsx("input",{type:"text",value:s.unit,onChange:t=>r({...s,unit:t.target.value}),placeholder:"e.g., %, km, $",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Frequency"}),e.jsxs("select",{value:s.frequency,onChange:t=>r({...s,frequency:t.target.value}),className:"input-field",children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(t=>e.jsx("button",{onClick:()=>r({...s,category:t.value}),className:`px-3 py-2 rounded text-sm font-medium transition-colors ${s.category===t.value?"bg-blue-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300"}`,children:t.label},t.value))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:j,className:"btn-primary flex-1",children:[e.jsx(p,{className:"w-4 h-4"})," Add KPI"]}),e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 rounded-lg bg-slate-300 dark:bg-slate-700 text-slate-900 dark:text-slate-100 hover:bg-slate-400 dark:hover:bg-slate-600",children:"Cancel"})]})]}),!h&&e.jsxs("button",{onClick:()=>m(!0),className:"btn-primary w-full",children:[e.jsx(p,{className:"w-4 h-4"})," Add KPI"]}),e.jsx("div",{className:"space-y-3",children:l.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[e.jsx(y,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No KPIs tracked yet"})]}):l.map(t=>{const a=i(t),n=a>=80?"on-track":a>=50?"in-progress":"needs-work",d={"on-track":"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-100","in-progress":"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-100","needs-work":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-100"};return e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:t.name}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.frequency," â€¢ ",t.category]})]}),e.jsx("button",{onClick:()=>N(t.id),className:"text-slate-400 hover:text-red-500",children:e.jsx(w,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-600 dark:text-slate-400 mb-1",children:"Current Value"}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("input",{type:"number",value:t.current,onChange:x=>v(t.id,Number(x.target.value)),className:"px-3 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 w-20"}),e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.unit})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Target"}),e.jsxs("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:[t.target," ",t.unit]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progress"}),e.jsxs("span",{className:`font-semibold px-2 py-1 rounded text-xs ${d[n]}`,children:[a,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-red-500 via-yellow-500 to-green-500 h-2 rounded-full transition-all",style:{width:`${Math.min(100,a)}%`}})})]})]})]},t.id)})})]})}export{S as default};
